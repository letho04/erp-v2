var Zn=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var x=(e,t,n)=>(Zn(e,t,"read from private field"),n?n.call(e):t.get(e)),G=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},W=(e,t,n,r)=>(Zn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Q=(e,t,n)=>(Zn(e,t,"access private method"),n);import{S as xs,s as wn,n as Mi,i as Wr,a as Kr,t as Ti,f as Oi,b as ji,r as Qr,c as Dn,h as Xr,g as Ni,d as F,u as br,j as p,e as Ee,R as Se,A as Hn,I as ht,k as Li,l as zi,m as Zi,$ as ws,o as $r,p as Hi,q as Ss,_ as Ce,v as ir,w as Bi,x as Ui,y as Gi,z as qi}from"./index-_VMWfsIH.js";import{P as Wi,a as Ki}from"./page-wrapper.component-DTPu65hr.js";import{B as ct,b as kr}from"./button-BAandrt9.js";import{D as Qi,a as Cs,b as Rs,c as bs,d as $s,e as ks,$ as Fs,f as Xi,g as Ji,h as Yi,i as eo,j as to,k as Es,l as no,m as ro,n as so,o as io}from"./dialog-Ca-7FR-y.js";import{L as pt}from"./label-C-BX5IFH.js";import{C as oo,a as ao,b as lo,c as uo}from"./card-BDSACis6.js";import{$ as co,a as fo,C as go}from"./index-C4LNj2oo.js";import{T as ho,a as po,b as Bn,c as mo,d as vo,e as Jr,p as Yr}from"./utils.util-DWOcaqbc.js";import{F as yo}from"./index-Dl2El4TH.js";import{P as _o}from"./page-card-wrapper.component-DbsndJOn.js";var ge,K,tn,ue,st,St,Ae,nn,Ct,Rt,it,ot,Ge,bt,at,Mt,rn,or,sn,ar,on,lr,an,ur,ln,cr,un,dr,cn,fr,In,Ps,ys,xo=(ys=class extends xs{constructor(t,n){super();G(this,at);G(this,rn);G(this,sn);G(this,on);G(this,an);G(this,ln);G(this,un);G(this,cn);G(this,In);G(this,ge,void 0);G(this,K,void 0);G(this,tn,void 0);G(this,ue,void 0);G(this,st,void 0);G(this,St,void 0);G(this,Ae,void 0);G(this,nn,void 0);G(this,Ct,void 0);G(this,Rt,void 0);G(this,it,void 0);G(this,ot,void 0);G(this,Ge,void 0);G(this,bt,new Set);this.options=n,W(this,ge,t),W(this,Ae,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,K).addObserver(this),es(x(this,K),this.options)?Q(this,at,Mt).call(this):this.updateResult(),Q(this,an,ur).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gr(x(this,K),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gr(x(this,K),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Q(this,ln,cr).call(this),Q(this,un,dr).call(this),x(this,K).removeObserver(this)}setOptions(t,n){const r=this.options,s=x(this,K);if(this.options=x(this,ge).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");Q(this,cn,fr).call(this),x(this,K).setOptions(this.options),r._defaulted&&!wn(this.options,r)&&x(this,ge).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,K),observer:this});const i=this.hasListeners();i&&ts(x(this,K),s,this.options,r)&&Q(this,at,Mt).call(this),this.updateResult(n),i&&(x(this,K)!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&Q(this,rn,or).call(this);const o=Q(this,sn,ar).call(this);i&&(x(this,K)!==s||this.options.enabled!==r.enabled||o!==x(this,Ge))&&Q(this,on,lr).call(this,o)}getOptimisticResult(t){const n=x(this,ge).getQueryCache().build(x(this,ge),t),r=this.createResult(n,t);return So(this,r)&&(W(this,ue,r),W(this,St,this.options),W(this,st,x(this,K).state)),r}getCurrentResult(){return x(this,ue)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){x(this,bt).add(t)}getCurrentQuery(){return x(this,K)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=x(this,ge).defaultQueryOptions(t),r=x(this,ge).getQueryCache().build(x(this,ge),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Q(this,at,Mt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,ue)))}createResult(t,n){var Ve;const r=x(this,K),s=this.options,i=x(this,ue),o=x(this,st),a=x(this,St),u=t!==r?t.state:x(this,tn),{state:c}=t;let g={...c},m=!1,f;if(n._optimisticResults){const J=this.hasListeners(),_e=!J&&es(t,n),ie=J&&ts(t,r,n,s);(_e||ie)&&(g={...g,...ji(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:y,errorUpdatedAt:S,status:E}=g;if(n.select&&g.data!==void 0)if(i&&g.data===(o==null?void 0:o.data)&&n.select===x(this,nn))f=x(this,Ct);else try{W(this,nn,n.select),f=n.select(g.data),f=Qr(i==null?void 0:i.data,f,n),W(this,Ct,f),W(this,Ae,null)}catch(J){W(this,Ae,J)}else f=g.data;if(n.placeholderData!==void 0&&f===void 0&&E==="pending"){let J;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))J=i.data;else if(J=typeof n.placeholderData=="function"?n.placeholderData((Ve=x(this,Rt))==null?void 0:Ve.state.data,x(this,Rt)):n.placeholderData,n.select&&J!==void 0)try{J=n.select(J),W(this,Ae,null)}catch(_e){W(this,Ae,_e)}J!==void 0&&(E="success",f=Qr(i==null?void 0:i.data,J,n),m=!0)}x(this,Ae)&&(y=x(this,Ae),f=x(this,Ct),S=Date.now(),E="error");const A=g.fetchStatus==="fetching",P=E==="pending",O=E==="error",q=P&&A,z=f!==void 0;return{status:E,fetchStatus:g.fetchStatus,isPending:P,isSuccess:E==="success",isError:O,isInitialLoading:q,isLoading:q,data:f,dataUpdatedAt:g.dataUpdatedAt,error:y,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>u.dataUpdateCount||g.errorUpdateCount>u.errorUpdateCount,isFetching:A,isRefetching:A&&!P,isLoadingError:O&&!z,isPaused:g.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:O&&z,isStale:Fr(t,n),refetch:this.refetch}}updateResult(t){const n=x(this,ue),r=this.createResult(x(this,K),this.options);if(W(this,st,x(this,K).state),W(this,St,this.options),x(this,st).data!==void 0&&W(this,Rt,x(this,K)),wn(r,n))return;W(this,ue,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!x(this,bt).size)return!0;const l=new Set(a??x(this,bt));return this.options.throwOnError&&l.add("error"),Object.keys(x(this,ue)).some(u=>{const c=u;return x(this,ue)[c]!==n[c]&&l.has(c)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),Q(this,In,Ps).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Q(this,an,ur).call(this)}},ge=new WeakMap,K=new WeakMap,tn=new WeakMap,ue=new WeakMap,st=new WeakMap,St=new WeakMap,Ae=new WeakMap,nn=new WeakMap,Ct=new WeakMap,Rt=new WeakMap,it=new WeakMap,ot=new WeakMap,Ge=new WeakMap,bt=new WeakMap,at=new WeakSet,Mt=function(t){Q(this,cn,fr).call(this);let n=x(this,K).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Mi)),n},rn=new WeakSet,or=function(){if(Q(this,ln,cr).call(this),Wr||x(this,ue).isStale||!Kr(this.options.staleTime))return;const n=Ti(x(this,ue).dataUpdatedAt,this.options.staleTime)+1;W(this,it,setTimeout(()=>{x(this,ue).isStale||this.updateResult()},n))},sn=new WeakSet,ar=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,K)):this.options.refetchInterval)??!1},on=new WeakSet,lr=function(t){Q(this,un,dr).call(this),W(this,Ge,t),!(Wr||this.options.enabled===!1||!Kr(x(this,Ge))||x(this,Ge)===0)&&W(this,ot,setInterval(()=>{(this.options.refetchIntervalInBackground||Oi.isFocused())&&Q(this,at,Mt).call(this)},x(this,Ge)))},an=new WeakSet,ur=function(){Q(this,rn,or).call(this),Q(this,on,lr).call(this,Q(this,sn,ar).call(this))},ln=new WeakSet,cr=function(){x(this,it)&&(clearTimeout(x(this,it)),W(this,it,void 0))},un=new WeakSet,dr=function(){x(this,ot)&&(clearInterval(x(this,ot)),W(this,ot,void 0))},cn=new WeakSet,fr=function(){const t=x(this,ge).getQueryCache().build(x(this,ge),this.options);if(t===x(this,K))return;const n=x(this,K);W(this,K,t),W(this,tn,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},In=new WeakSet,Ps=function(t){Dn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(x(this,ue))}),x(this,ge).getQueryCache().notify({query:x(this,K),type:"observerResultsUpdated"})})},ys);function wo(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function es(e,t){return wo(e,t)||e.state.data!==void 0&&gr(e,t,t.refetchOnMount)}function gr(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Fr(e,t)}return!1}function ts(e,t,n,r){return(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Fr(e,n)}function Fr(e,t){return t.enabled!==!1&&e.isStaleByTime(t.staleTime)}function So(e,t){return!wn(e.getCurrentResult(),t)}var qe,We,he,Le,$t,_n,dn,hr,_s,Co=(_s=class extends xs{constructor(t,n){super();G(this,$t);G(this,dn);G(this,qe,void 0);G(this,We,void 0);G(this,he,void 0);G(this,Le,void 0);W(this,qe,t),this.setOptions(n),this.bindMethods(),Q(this,$t,_n).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const n=this.options;this.options=x(this,qe).defaultMutationOptions(t),wn(this.options,n)||x(this,qe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,he),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Xr(n.mutationKey)!==Xr(this.options.mutationKey)?this.reset():((r=x(this,he))==null?void 0:r.state.status)==="pending"&&x(this,he).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=x(this,he))==null||t.removeObserver(this)}onMutationUpdate(t){Q(this,$t,_n).call(this),Q(this,dn,hr).call(this,t)}getCurrentResult(){return x(this,We)}reset(){var t;(t=x(this,he))==null||t.removeObserver(this),W(this,he,void 0),Q(this,$t,_n).call(this),Q(this,dn,hr).call(this)}mutate(t,n){var r;return W(this,Le,n),(r=x(this,he))==null||r.removeObserver(this),W(this,he,x(this,qe).getMutationCache().build(x(this,qe),this.options)),x(this,he).addObserver(this),x(this,he).execute(t)}},qe=new WeakMap,We=new WeakMap,he=new WeakMap,Le=new WeakMap,$t=new WeakSet,_n=function(){var n;const t=((n=x(this,he))==null?void 0:n.state)??Ni();W(this,We,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},dn=new WeakSet,hr=function(t){Dn.batch(()=>{var n,r,s,i,o,a,l,u;if(x(this,Le)&&this.hasListeners()){const c=x(this,We).variables,g=x(this,We).context;(t==null?void 0:t.type)==="success"?((r=(n=x(this,Le)).onSuccess)==null||r.call(n,t.data,c,g),(i=(s=x(this,Le)).onSettled)==null||i.call(s,t.data,null,c,g)):(t==null?void 0:t.type)==="error"&&((a=(o=x(this,Le)).onError)==null||a.call(o,t.error,c,g),(u=(l=x(this,Le)).onSettled)==null||u.call(l,void 0,t.error,c,g))}this.listeners.forEach(c=>{c(x(this,We))})})},_s),Vs=F.createContext(!1),Ro=()=>F.useContext(Vs);Vs.Provider;function bo(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $o=F.createContext(bo()),ko=()=>F.useContext($o);function As(e,t){return typeof e=="function"?e(...t):!!e}function Fo(){}var Eo=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Po=e=>{F.useEffect(()=>{e.clearReset()},[e])},Vo=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&As(n,[e.error,r]),Ao=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Io=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Do=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Mo(e,t,n){const r=br(),s=Ro(),i=ko(),o=r.defaultQueryOptions(e);o._optimisticResults=s?"isRestoring":"optimistic",Ao(o),Eo(o,i),Po(i);const[a]=F.useState(()=>new t(r,o)),l=a.getOptimisticResult(o);if(F.useSyncExternalStore(F.useCallback(u=>{const c=s?()=>{}:a.subscribe(Dn.batchCalls(u));return a.updateResult(),c},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),F.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Io(o,l))throw Do(o,a,i);if(Vo({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function To(e,t){return Mo(e,xo)}function Un(e,t){const n=br(),[r]=F.useState(()=>new Co(n,e));F.useEffect(()=>{r.setOptions(e)},[r,e]);const s=F.useSyncExternalStore(F.useCallback(o=>r.subscribe(Dn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=F.useCallback((o,a)=>{r.mutate(o,a).catch(Fo)},[r]);if(s.error&&As(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const mt=({className:e,message:t})=>p.jsx("p",{className:Ee("text-destructive text-sm",e),children:t});var fn=e=>e.type==="checkbox",_t=e=>e instanceof Date,ce=e=>e==null;const Is=e=>typeof e=="object";var se=e=>!ce(e)&&!Array.isArray(e)&&Is(e)&&!_t(e),Oo=e=>se(e)&&e.target?fn(e.target)?e.target.checked:e.target.value:e,jo=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,No=(e,t)=>e.has(jo(t)),Lo=e=>{const t=e.constructor&&e.constructor.prototype;return se(t)&&t.hasOwnProperty("isPrototypeOf")},Er=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function we(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Er&&(e instanceof Blob||e instanceof FileList))&&(n||se(e)))if(t=n?[]:{},!n&&!Lo(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=we(e[r]));else return e;return t}var gn=e=>Array.isArray(e)?e.filter(Boolean):[],ee=e=>e===void 0,k=(e,t,n)=>{if(!t||!se(e))return n;const r=gn(t.split(/[,[\].]+?/)).reduce((s,i)=>ce(s)?s:s[i],e);return ee(r)||r===e?ee(e[t])?n:e[t]:r},Be=e=>typeof e=="boolean",Pr=e=>/^\w*$/.test(e),Ds=e=>gn(e.replace(/["|']|\]/g,"").split(/\.|\[/)),X=(e,t,n)=>{let r=-1;const s=Pr(t)?[t]:Ds(t),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=e[a];l=se(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;e[a]=l,e=e[a]}return e};const ns={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},be={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Se.createContext(null);var zo=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==be.all&&(t._proxyFormState[o]=!r||be.all),e[o]}});return s},me=e=>se(e)&&!Object.keys(e).length,Zo=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return me(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===be.all)},Gn=e=>Array.isArray(e)?e:[e];function Ho(e){const t=Se.useRef(e);t.current=e,Se.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var Ie=e=>typeof e=="string",Bo=(e,t,n,r,s)=>Ie(e)?(r&&t.watch.add(e),k(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),k(n,i))):(r&&(t.watchAll=!0),n),Ms=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},rs=e=>({isOnSubmit:!e||e===be.onSubmit,isOnBlur:e===be.onBlur,isOnChange:e===be.onChange,isOnAll:e===be.all,isOnTouch:e===be.onTouched}),ss=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const jt=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=k(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)break;if(o.ref&&t(o.ref,o.name)&&!r)break;jt(a,t)}else se(a)&&jt(a,t)}}};var Uo=(e,t,n)=>{const r=gn(k(e,n));return X(r,"root",t[n]),X(e,n,r),e},Vr=e=>e.type==="file",Ke=e=>typeof e=="function",Sn=e=>{if(!Er)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xn=e=>Ie(e),Ar=e=>e.type==="radio",Cn=e=>e instanceof RegExp;const is={value:!1,isValid:!1},os={value:!0,isValid:!0};var Ts=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ee(e[0].attributes.value)?ee(e[0].value)||e[0].value===""?os:{value:e[0].value,isValid:!0}:os:is}return is};const as={isValid:!1,value:null};var Os=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,as):as;function ls(e,t,n="validate"){if(xn(e)||Array.isArray(e)&&e.every(xn)||Be(e)&&!e)return{type:n,message:xn(e)?e:"",ref:t}}var vt=e=>se(e)&&!Cn(e)?e:{value:e,message:""},us=async(e,t,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:u,min:c,max:g,pattern:m,validate:f,name:y,valueAsNumber:S,mount:E,disabled:A}=e._f,P=k(t,y);if(!E||A)return{};const O=o?o[0]:i,q=Z=>{r&&O.reportValidity&&(O.setCustomValidity(Be(Z)?"":Z||""),O.reportValidity())},z={},fe=Ar(i),Ve=fn(i),J=fe||Ve,_e=(S||Vr(i))&&ee(i.value)&&ee(P)||Sn(i)&&i.value===""||P===""||Array.isArray(P)&&!P.length,ie=Ms.bind(null,y,n,z),nt=(Z,B,ne,oe=Oe.maxLength,Re=Oe.minLength)=>{const xe=Z?B:ne;z[y]={type:Z?oe:Re,message:xe,ref:i,...ie(Z?oe:Re,xe)}};if(s?!Array.isArray(P)||!P.length:a&&(!J&&(_e||ce(P))||Be(P)&&!P||Ve&&!Ts(o).isValid||fe&&!Os(o).isValid)){const{value:Z,message:B}=xn(a)?{value:!!a,message:a}:vt(a);if(Z&&(z[y]={type:Oe.required,message:B,ref:O,...ie(Oe.required,B)},!n))return q(B),z}if(!_e&&(!ce(c)||!ce(g))){let Z,B;const ne=vt(g),oe=vt(c);if(!ce(P)&&!isNaN(P)){const Re=i.valueAsNumber||P&&+P;ce(ne.value)||(Z=Re>ne.value),ce(oe.value)||(B=Re<oe.value)}else{const Re=i.valueAsDate||new Date(P),xe=At=>new Date(new Date().toDateString()+" "+At),Pt=i.type=="time",Vt=i.type=="week";Ie(ne.value)&&P&&(Z=Pt?xe(P)>xe(ne.value):Vt?P>ne.value:Re>new Date(ne.value)),Ie(oe.value)&&P&&(B=Pt?xe(P)<xe(oe.value):Vt?P<oe.value:Re<new Date(oe.value))}if((Z||B)&&(nt(!!Z,ne.message,oe.message,Oe.max,Oe.min),!n))return q(z[y].message),z}if((l||u)&&!_e&&(Ie(P)||s&&Array.isArray(P))){const Z=vt(l),B=vt(u),ne=!ce(Z.value)&&P.length>+Z.value,oe=!ce(B.value)&&P.length<+B.value;if((ne||oe)&&(nt(ne,Z.message,B.message),!n))return q(z[y].message),z}if(m&&!_e&&Ie(P)){const{value:Z,message:B}=vt(m);if(Cn(Z)&&!P.match(Z)&&(z[y]={type:Oe.pattern,message:B,ref:i,...ie(Oe.pattern,B)},!n))return q(B),z}if(f){if(Ke(f)){const Z=await f(P,t),B=ls(Z,O);if(B&&(z[y]={...B,...ie(Oe.validate,B.message)},!n))return q(B.message),z}else if(se(f)){let Z={};for(const B in f){if(!me(Z)&&!n)break;const ne=ls(await f[B](P,t),O,B);ne&&(Z={...ne,...ie(B,ne.message)},q(ne.message),n&&(z[y]=Z))}if(!me(Z)&&(z[y]={ref:O,...Z},!n))return z}}return q(!0),z};function Go(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ee(e)?r++:e[t[r++]];return e}function qo(e){for(const t in e)if(e.hasOwnProperty(t)&&!ee(e[t]))return!1;return!0}function re(e,t){const n=Array.isArray(t)?t:Pr(t)?[t]:Ds(t),r=n.length===1?e:Go(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(se(r)&&me(r)||Array.isArray(r)&&qo(r))&&re(e,n.slice(0,-1)),e}var qn=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Rn=e=>ce(e)||!Is(e);function rt(e,t){if(Rn(e)||Rn(t))return e===t;if(_t(e)&&_t(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const i=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=t[s];if(_t(i)&&_t(o)||se(i)&&se(o)||Array.isArray(i)&&Array.isArray(o)?!rt(i,o):i!==o)return!1}}return!0}var js=e=>e.type==="select-multiple",Wo=e=>Ar(e)||fn(e),Wn=e=>Sn(e)&&e.isConnected,Ns=e=>{for(const t in e)if(Ke(e[t]))return!0;return!1};function bn(e,t={}){const n=Array.isArray(e);if(se(e)||n)for(const r in e)Array.isArray(e[r])||se(e[r])&&!Ns(e[r])?(t[r]=Array.isArray(e[r])?[]:{},bn(e[r],t[r])):ce(e[r])||(t[r]=!0);return t}function Ls(e,t,n){const r=Array.isArray(e);if(se(e)||r)for(const s in e)Array.isArray(e[s])||se(e[s])&&!Ns(e[s])?ee(t)||Rn(n[s])?n[s]=Array.isArray(e[s])?bn(e[s],[]):{...bn(e[s])}:Ls(e[s],ce(t)?{}:t[s],n[s]):n[s]=!rt(e[s],t[s]);return n}var pn=(e,t)=>Ls(e,t,bn(t)),zs=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ee(e)?e:t?e===""?NaN:e&&+e:n&&Ie(e)?new Date(e):r?r(e):e;function Kn(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Vr(t)?t.files:Ar(t)?Os(e.refs).value:js(t)?[...t.selectedOptions].map(({value:n})=>n):fn(t)?Ts(e.refs).value:zs(ee(t.value)?e.ref.value:t.value,e)}var Ko=(e,t,n,r)=>{const s={};for(const i of e){const o=k(t,i);o&&X(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},It=e=>ee(e)?e:Cn(e)?e.source:se(e)?Cn(e.value)?e.value.source:e.value:e,Qo=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function cs(e,t,n){const r=k(e,n);if(r||Pr(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=k(t,i),a=k(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var Xo=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,Jo=(e,t)=>!gn(k(e,t)).length&&re(e,t);const Yo={mode:be.onSubmit,reValidateMode:be.onChange,shouldFocusError:!0};function ea(e={}){let t={...Yo,...e},n={submitCount:0,isDirty:!1,isLoading:Ke(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=se(t.defaultValues)||se(t.values)?we(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:we(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:qn(),array:qn(),state:qn()},m=rs(t.mode),f=rs(t.reValidateMode),y=t.criteriaMode===be.all,S=d=>h=>{clearTimeout(u),u=setTimeout(d,h)},E=async d=>{if(c.isValid||d){const h=t.resolver?me((await J()).errors):await ie(r,!0);h!==n.isValid&&g.state.next({isValid:h})}},A=(d,h)=>{(c.isValidating||c.validatingFields)&&((d||Array.from(a.mount)).forEach(v=>{v&&(h?X(n.validatingFields,v,h):re(n.validatingFields,v))}),g.state.next({validatingFields:n.validatingFields,isValidating:!me(n.validatingFields)}))},P=(d,h=[],v,b,C=!0,w=!0)=>{if(b&&v){if(o.action=!0,w&&Array.isArray(k(r,d))){const I=v(k(r,d),b.argA,b.argB);C&&X(r,d,I)}if(w&&Array.isArray(k(n.errors,d))){const I=v(k(n.errors,d),b.argA,b.argB);C&&X(n.errors,d,I),Jo(n.errors,d)}if(c.touchedFields&&w&&Array.isArray(k(n.touchedFields,d))){const I=v(k(n.touchedFields,d),b.argA,b.argB);C&&X(n.touchedFields,d,I)}c.dirtyFields&&(n.dirtyFields=pn(s,i)),g.state.next({name:d,isDirty:Z(d,h),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else X(i,d,h)},O=(d,h)=>{X(n.errors,d,h),g.state.next({errors:n.errors})},q=d=>{n.errors=d,g.state.next({errors:n.errors,isValid:!1})},z=(d,h,v,b)=>{const C=k(r,d);if(C){const w=k(i,d,ee(v)?k(s,d):v);ee(w)||b&&b.defaultChecked||h?X(i,d,h?w:Kn(C._f)):oe(d,w),o.mount&&E()}},fe=(d,h,v,b,C)=>{let w=!1,I=!1;const U={name:d},te=!!(k(r,d)&&k(r,d)._f.disabled);if(!v||b){c.isDirty&&(I=n.isDirty,n.isDirty=U.isDirty=Z(),w=I!==U.isDirty);const pe=te||rt(k(s,d),h);I=!!(!te&&k(n.dirtyFields,d)),pe||te?re(n.dirtyFields,d):X(n.dirtyFields,d,!0),U.dirtyFields=n.dirtyFields,w=w||c.dirtyFields&&I!==!pe}if(v){const pe=k(n.touchedFields,d);pe||(X(n.touchedFields,d,v),U.touchedFields=n.touchedFields,w=w||c.touchedFields&&pe!==v)}return w&&C&&g.state.next(U),w?U:{}},Ve=(d,h,v,b)=>{const C=k(n.errors,d),w=c.isValid&&Be(h)&&n.isValid!==h;if(e.delayError&&v?(l=S(()=>O(d,v)),l(e.delayError)):(clearTimeout(u),l=null,v?X(n.errors,d,v):re(n.errors,d)),(v?!rt(C,v):C)||!me(b)||w){const I={...b,...w&&Be(h)?{isValid:h}:{},errors:n.errors,name:d};n={...n,...I},g.state.next(I)}},J=async d=>{A(d,!0);const h=await t.resolver(i,t.context,Ko(d||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return A(d),h},_e=async d=>{const{errors:h}=await J(d);if(d)for(const v of d){const b=k(h,v);b?X(n.errors,v,b):re(n.errors,v)}else n.errors=h;return h},ie=async(d,h,v={valid:!0})=>{for(const b in d){const C=d[b];if(C){const{_f:w,...I}=C;if(w){const U=a.array.has(w.name);A([b],!0);const te=await us(C,i,y,t.shouldUseNativeValidation&&!h,U);if(A([b]),te[w.name]&&(v.valid=!1,h))break;!h&&(k(te,w.name)?U?Uo(n.errors,te,w.name):X(n.errors,w.name,te[w.name]):re(n.errors,w.name))}I&&await ie(I,h,v)}}return v.valid},nt=()=>{for(const d of a.unMount){const h=k(r,d);h&&(h._f.refs?h._f.refs.every(v=>!Wn(v)):!Wn(h._f.ref))&&jn(d)}a.unMount=new Set},Z=(d,h)=>(d&&h&&X(i,d,h),!rt(jr(),s)),B=(d,h,v)=>Bo(d,a,{...o.mount?i:ee(h)?s:Ie(d)?{[d]:h}:h},v,h),ne=d=>gn(k(o.mount?i:s,d,e.shouldUnregister?k(s,d,[]):[])),oe=(d,h,v={})=>{const b=k(r,d);let C=h;if(b){const w=b._f;w&&(!w.disabled&&X(i,d,zs(h,w)),C=Sn(w.ref)&&ce(h)?"":h,js(w.ref)?[...w.ref.options].forEach(I=>I.selected=C.includes(I.value)):w.refs?fn(w.ref)?w.refs.length>1?w.refs.forEach(I=>(!I.defaultChecked||!I.disabled)&&(I.checked=Array.isArray(C)?!!C.find(U=>U===I.value):C===I.value)):w.refs[0]&&(w.refs[0].checked=!!C):w.refs.forEach(I=>I.checked=I.value===C):Vr(w.ref)?w.ref.value="":(w.ref.value=C,w.ref.type||g.values.next({name:d,values:{...i}})))}(v.shouldDirty||v.shouldTouch)&&fe(d,C,v.shouldTouch,v.shouldDirty,!0),v.shouldValidate&&At(d)},Re=(d,h,v)=>{for(const b in h){const C=h[b],w=`${d}.${b}`,I=k(r,w);(a.array.has(d)||!Rn(C)||I&&!I._f)&&!_t(C)?Re(w,C,v):oe(w,C,v)}},xe=(d,h,v={})=>{const b=k(r,d),C=a.array.has(d),w=we(h);X(i,d,w),C?(g.array.next({name:d,values:{...i}}),(c.isDirty||c.dirtyFields)&&v.shouldDirty&&g.state.next({name:d,dirtyFields:pn(s,i),isDirty:Z(d,w)})):b&&!b._f&&!ce(w)?Re(d,w,v):oe(d,w,v),ss(d,a)&&g.state.next({...n}),g.values.next({name:o.mount?d:void 0,values:{...i}})},Pt=async d=>{o.mount=!0;const h=d.target;let v=h.name,b=!0;const C=k(r,v),w=()=>h.type?Kn(C._f):Oo(d),I=U=>{b=Number.isNaN(U)||U===k(i,v,U)};if(C){let U,te;const pe=w(),gt=d.type===ns.BLUR||d.type===ns.FOCUS_OUT,Ai=!Qo(C._f)&&!t.resolver&&!k(n.errors,v)&&!C._f.deps||Xo(gt,k(n.touchedFields,v),n.isSubmitted,f,m),Ln=ss(v,a,gt);X(i,v,pe),gt?(C._f.onBlur&&C._f.onBlur(d),l&&l(0)):C._f.onChange&&C._f.onChange(d);const zn=fe(v,pe,gt,!1),Ii=!me(zn)||Ln;if(!gt&&g.values.next({name:v,type:d.type,values:{...i}}),Ai)return c.isValid&&E(),Ii&&g.state.next({name:v,...Ln?{}:zn});if(!gt&&Ln&&g.state.next({...n}),t.resolver){const{errors:Gr}=await J([v]);if(I(pe),b){const Di=cs(n.errors,r,v),qr=cs(Gr,r,Di.name||v);U=qr.error,v=qr.name,te=me(Gr)}}else A([v],!0),U=(await us(C,i,y,t.shouldUseNativeValidation))[v],A([v]),I(pe),b&&(U?te=!1:c.isValid&&(te=await ie(r,!0)));b&&(C._f.deps&&At(C._f.deps),Ve(v,te,U,zn))}},Vt=(d,h)=>{if(k(n.errors,h)&&d.focus)return d.focus(),1},At=async(d,h={})=>{let v,b;const C=Gn(d);if(t.resolver){const w=await _e(ee(d)?d:C);v=me(w),b=d?!C.some(I=>k(w,I)):v}else d?(b=(await Promise.all(C.map(async w=>{const I=k(r,w);return await ie(I&&I._f?{[w]:I}:I)}))).every(Boolean),!(!b&&!n.isValid)&&E()):b=v=await ie(r);return g.state.next({...!Ie(d)||c.isValid&&v!==n.isValid?{}:{name:d},...t.resolver||!d?{isValid:v}:{},errors:n.errors}),h.shouldFocus&&!b&&jt(r,Vt,d?C:a.mount),b},jr=d=>{const h={...o.mount?i:s};return ee(d)?h:Ie(d)?k(h,d):d.map(v=>k(h,v))},Nr=(d,h)=>({invalid:!!k((h||n).errors,d),isDirty:!!k((h||n).dirtyFields,d),isTouched:!!k((h||n).touchedFields,d),isValidating:!!k((h||n).validatingFields,d),error:k((h||n).errors,d)}),Fi=d=>{d&&Gn(d).forEach(h=>re(n.errors,h)),g.state.next({errors:d?n.errors:{}})},Lr=(d,h,v)=>{const b=(k(r,d,{_f:{}})._f||{}).ref,C=k(n.errors,d)||{},{ref:w,message:I,type:U,...te}=C;X(n.errors,d,{...te,...h,ref:b}),g.state.next({name:d,errors:n.errors,isValid:!1}),v&&v.shouldFocus&&b&&b.focus&&b.focus()},Ei=(d,h)=>Ke(d)?g.values.subscribe({next:v=>d(B(void 0,h),v)}):B(d,h,!0),jn=(d,h={})=>{for(const v of d?Gn(d):a.mount)a.mount.delete(v),a.array.delete(v),h.keepValue||(re(r,v),re(i,v)),!h.keepError&&re(n.errors,v),!h.keepDirty&&re(n.dirtyFields,v),!h.keepTouched&&re(n.touchedFields,v),!h.keepIsValidating&&re(n.validatingFields,v),!t.shouldUnregister&&!h.keepDefaultValue&&re(s,v);g.values.next({values:{...i}}),g.state.next({...n,...h.keepDirty?{isDirty:Z()}:{}}),!h.keepIsValid&&E()},zr=({disabled:d,name:h,field:v,fields:b,value:C})=>{if(Be(d)&&o.mount||d){const w=d?void 0:ee(C)?Kn(v?v._f:k(b,h)._f):C;X(i,h,w),fe(h,w,!1,!1,!0)}},Nn=(d,h={})=>{let v=k(r,d);const b=Be(h.disabled);return X(r,d,{...v||{},_f:{...v&&v._f?v._f:{ref:{name:d}},name:d,mount:!0,...h}}),a.mount.add(d),v?zr({field:v,disabled:h.disabled,name:d,value:h.value}):z(d,!0,h.value),{...b?{disabled:h.disabled}:{},...t.progressive?{required:!!h.required,min:It(h.min),max:It(h.max),minLength:It(h.minLength),maxLength:It(h.maxLength),pattern:It(h.pattern)}:{},name:d,onChange:Pt,onBlur:Pt,ref:C=>{if(C){Nn(d,h),v=k(r,d);const w=ee(C.value)&&C.querySelectorAll&&C.querySelectorAll("input,select,textarea")[0]||C,I=Wo(w),U=v._f.refs||[];if(I?U.find(te=>te===w):w===v._f.ref)return;X(r,d,{_f:{...v._f,...I?{refs:[...U.filter(Wn),w,...Array.isArray(k(s,d))?[{}]:[]],ref:{type:w.type,name:d}}:{ref:w}}}),z(d,!1,void 0,w)}else v=k(r,d,{}),v._f&&(v._f.mount=!1),(t.shouldUnregister||h.shouldUnregister)&&!(No(a.array,d)&&o.action)&&a.unMount.add(d)}}},Zr=()=>t.shouldFocusError&&jt(r,Vt,a.mount),Pi=d=>{Be(d)&&(g.state.next({disabled:d}),jt(r,(h,v)=>{const b=k(r,v);b&&(h.disabled=b._f.disabled||d,Array.isArray(b._f.refs)&&b._f.refs.forEach(C=>{C.disabled=b._f.disabled||d}))},0,!1))},Hr=(d,h)=>async v=>{let b;v&&(v.preventDefault&&v.preventDefault(),v.persist&&v.persist());let C=we(i);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:w,values:I}=await J();n.errors=w,C=I}else await ie(r);if(re(n.errors,"root"),me(n.errors)){g.state.next({errors:{}});try{await d(C,v)}catch(w){b=w}}else h&&await h({...n.errors},v),Zr(),setTimeout(Zr);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:me(n.errors)&&!b,submitCount:n.submitCount+1,errors:n.errors}),b)throw b},Vi=(d,h={})=>{k(r,d)&&(ee(h.defaultValue)?xe(d,we(k(s,d))):(xe(d,h.defaultValue),X(s,d,we(h.defaultValue))),h.keepTouched||re(n.touchedFields,d),h.keepDirty||(re(n.dirtyFields,d),n.isDirty=h.defaultValue?Z(d,we(k(s,d))):Z()),h.keepError||(re(n.errors,d),c.isValid&&E()),g.state.next({...n}))},Br=(d,h={})=>{const v=d?we(d):s,b=we(v),C=me(d),w=C?s:b;if(h.keepDefaultValues||(s=v),!h.keepValues){if(h.keepDirtyValues)for(const I of a.mount)k(n.dirtyFields,I)?X(w,I,k(i,I)):xe(I,k(w,I));else{if(Er&&ee(d))for(const I of a.mount){const U=k(r,I);if(U&&U._f){const te=Array.isArray(U._f.refs)?U._f.refs[0]:U._f.ref;if(Sn(te)){const pe=te.closest("form");if(pe){pe.reset();break}}}}r={}}i=e.shouldUnregister?h.keepDefaultValues?we(s):{}:we(w),g.array.next({values:{...w}}),g.values.next({values:{...w}})}a={mount:h.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!h.keepIsValid||!!h.keepDirtyValues,o.watch=!!e.shouldUnregister,g.state.next({submitCount:h.keepSubmitCount?n.submitCount:0,isDirty:C?!1:h.keepDirty?n.isDirty:!!(h.keepDefaultValues&&!rt(d,s)),isSubmitted:h.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:C?[]:h.keepDirtyValues?h.keepDefaultValues&&i?pn(s,i):n.dirtyFields:h.keepDefaultValues&&d?pn(s,d):{},touchedFields:h.keepTouched?n.touchedFields:{},errors:h.keepErrors?n.errors:{},isSubmitSuccessful:h.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ur=(d,h)=>Br(Ke(d)?d(i):d,h);return{control:{register:Nn,unregister:jn,getFieldState:Nr,handleSubmit:Hr,setError:Lr,_executeSchema:J,_getWatch:B,_getDirty:Z,_updateValid:E,_removeUnmounted:nt,_updateFieldArray:P,_updateDisabledField:zr,_getFieldArray:ne,_reset:Br,_resetDefaultValues:()=>Ke(t.defaultValues)&&t.defaultValues().then(d=>{Ur(d,t.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:d=>{n={...n,...d}},_disableForm:Pi,_subjects:g,_proxyFormState:c,_setErrors:q,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(d){o=d},get _defaultValues(){return s},get _names(){return a},set _names(d){a=d},get _formState(){return n},set _formState(d){n=d},get _options(){return t},set _options(d){t={...t,...d}}},trigger:At,register:Nn,handleSubmit:Hr,watch:Ei,setValue:xe,getValues:jr,reset:Ur,resetField:Vi,clearErrors:Fi,unregister:jn,setError:Lr,setFocus:(d,h={})=>{const v=k(r,d),b=v&&v._f;if(b){const C=b.refs?b.refs[0]:b.ref;C.focus&&(C.focus(),h.shouldSelect&&C.select())}},getFieldState:Nr}}function ta(e={}){const t=Se.useRef(),n=Se.useRef(),[r,s]=Se.useState({isDirty:!1,isValidating:!1,isLoading:Ke(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ke(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ea(e),formState:r});const i=t.current.control;return i._options=e,Ho({subject:i._subjects.state,next:o=>{Zo(o,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),Se.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Se.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Se.useEffect(()=>{e.values&&!rt(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),Se.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),Se.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Se.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=zo(r,i),t.current}var ds=function(e,t,n){if(e&&"reportValidity"in e){var r=k(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Zs=function(e,t){var n=function(s){var i=t.fields[s];i&&i.ref&&"reportValidity"in i.ref?ds(i.ref,s,e):i.refs&&i.refs.forEach(function(o){return ds(o,s,e)})};for(var r in t.fields)n(r)},na=function(e){return e instanceof Date},ra=function(e){return e==null},sa=function(e){return typeof e=="object"},ia=function(e){return!ra(e)&&!Array.isArray(e)&&sa(e)&&!na(e)},oa=function(e){return/^\w*$/.test(e)},Qn=function(e,t,n){for(var r=-1,s=oa(t)?[t]:function(c){return g=c.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(g)?g.filter(Boolean):[];var g}(t),i=s.length,o=i-1;++r<i;){var a=s[r],l=n;if(r!==o){var u=e[a];l=ia(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}e[a]=l,e=e[a]}return e},aa=function(e,t){t.shouldUseNativeValidation&&Zs(e,t);var n={};for(var r in e){var s=k(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(la(t.names||Object.keys(e),r)){var o=Object.assign({},k(n,r));Qn(o,"root",i),Qn(n,r,o)}else Qn(n,r,i)}return n},la=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},ua=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(g){return e.push(g)})}),t){var l=n[o].types,u=l&&l[r.code];n[o]=Ms(o,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},ca=function(e,t,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return i.shouldUseNativeValidation&&Zs({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:aa(ua(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},H;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(H||(H={}));var pr;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(pr||(pr={}));const $=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ue=e=>{switch(typeof e){case"undefined":return $.undefined;case"string":return $.string;case"number":return isNaN(e)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(e)?$.array:e===null?$.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$.promise:typeof Map<"u"&&e instanceof Map?$.map:typeof Set<"u"&&e instanceof Set?$.set:typeof Date<"u"&&e instanceof Date?$.date:$.object;default:return $.unknown}},_=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),da=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ve extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(t){if(!(t instanceof ve))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ve.create=e=>new ve(e);const kt=(e,t)=>{let n;switch(e.code){case _.invalid_type:e.received===$.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case _.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,H.jsonStringifyReplacer)}`;break;case _.unrecognized_keys:n=`Unrecognized key(s) in object: ${H.joinValues(e.keys,", ")}`;break;case _.invalid_union:n="Invalid input";break;case _.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${H.joinValues(e.options)}`;break;case _.invalid_enum_value:n=`Invalid enum value. Expected ${H.joinValues(e.options)}, received '${e.received}'`;break;case _.invalid_arguments:n="Invalid function arguments";break;case _.invalid_return_type:n="Invalid function return type";break;case _.invalid_date:n="Invalid date";break;case _.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:H.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case _.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case _.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case _.custom:n="Invalid input";break;case _.invalid_intersection_types:n="Intersection results could not be merged";break;case _.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case _.not_finite:n="Number must be finite";break;default:n=t.defaultError,H.assertNever(e)}return{message:n}};let Hs=kt;function fa(e){Hs=e}function $n(){return Hs}const kn=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}},ga=[];function R(e,t){const n=$n(),r=kn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===kt?void 0:kt].filter(s=>!!s)});e.common.issues.push(r)}class le{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return j;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return le.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return j;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const j=Object.freeze({status:"aborted"}),xt=e=>({status:"dirty",value:e}),de=e=>({status:"valid",value:e}),mr=e=>e.status==="aborted",vr=e=>e.status==="dirty",zt=e=>e.status==="valid",Zt=e=>typeof Promise<"u"&&e instanceof Promise;function Fn(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Bs(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var V;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(V||(V={}));var Tt,Ot;class Me{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fs=(e,t)=>{if(zt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ve(e.common.issues);return this._error=n,this._error}}};function N(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{var l,u;const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class L{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Ue(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ue(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new le,ctx:{common:t.parent.common,data:t.data,parsedType:Ue(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Zt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ue(t)},i=this._parseSync({data:t,path:s.path,parent:s});return fs(s,i)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ue(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Zt(s)?s:Promise.resolve(s));return fs(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:_.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Pe({schema:this,typeName:T.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return De.create(this,this._def)}nullable(){return et.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ke.create(this,this._def)}promise(){return Et.create(this,this._def)}or(t){return Gt.create([this,t],this._def)}and(t){return qt.create(this,t,this._def)}transform(t){return new Pe({...N(this._def),schema:this,typeName:T.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Jt({...N(this._def),innerType:this,defaultValue:n,typeName:T.ZodDefault})}brand(){return new Ir({typeName:T.ZodBranded,type:this,...N(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Yt({...N(this._def),innerType:this,catchValue:n,typeName:T.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return hn.create(this,t)}readonly(){return en.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ha=/^c[^\s-]{8,}$/i,pa=/^[0-9a-z]+$/,ma=/^[0-9A-HJKMNP-TV-Z]{26}$/,va=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ya=/^[a-z0-9_-]{21}$/i,_a=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xa=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wa="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xn;const Sa=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ca=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ra=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Us="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ba=new RegExp(`^${Us}$`);function Gs(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function $a(e){return new RegExp(`^${Gs(e)}$`)}function qs(e){let t=`${Us}T${Gs(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ka(e,t){return!!((t==="v4"||!t)&&Sa.test(e)||(t==="v6"||!t)&&Ca.test(e))}class $e extends L{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$.string){const i=this._getOrReturnCtx(t);return R(i,{code:_.invalid_type,expected:$.string,received:i.parsedType}),j}const r=new le;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),R(s,{code:_.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),R(s,{code:_.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?R(s,{code:_.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&R(s,{code:_.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")xa.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"email",code:_.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Xn||(Xn=new RegExp(wa,"u")),Xn.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"emoji",code:_.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")va.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"uuid",code:_.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")ya.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"nanoid",code:_.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")ha.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"cuid",code:_.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")pa.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"cuid2",code:_.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")ma.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"ulid",code:_.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),R(s,{validation:"url",code:_.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"regex",code:_.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),R(s,{code:_.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),R(s,{code:_.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),R(s,{code:_.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?qs(i).test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{code:_.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?ba.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{code:_.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?$a(i).test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{code:_.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?_a.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"duration",code:_.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?ka(t.data,i.version)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"ip",code:_.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Ra.test(t.data)||(s=this._getOrReturnCtx(t,s),R(s,{validation:"base64",code:_.invalid_string,message:i.message}),r.dirty()):H.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:_.invalid_string,...V.errToObj(r)})}_addCheck(t){return new $e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...V.errToObj(t)})}url(t){return this._addCheck({kind:"url",...V.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...V.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...V.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...V.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...V.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...V.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...V.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...V.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...V.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...V.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...V.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...V.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...V.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...V.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...V.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...V.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...V.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...V.errToObj(n)})}nonempty(t){return this.min(1,V.errToObj(t))}trim(){return new $e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}$e.create=e=>{var t;return new $e({checks:[],typeName:T.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...N(e)})};function Fa(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Xe extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$.number){const i=this._getOrReturnCtx(t);return R(i,{code:_.invalid_type,expected:$.number,received:i.parsedType}),j}let r;const s=new le;for(const i of this._def.checks)i.kind==="int"?H.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{code:_.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),R(r,{code:_.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),R(r,{code:_.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Fa(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),R(r,{code:_.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{code:_.not_finite,message:i.message}),s.dirty()):H.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,V.toString(n))}gt(t,n){return this.setLimit("min",t,!1,V.toString(n))}lte(t,n){return this.setLimit("max",t,!0,V.toString(n))}lt(t,n){return this.setLimit("max",t,!1,V.toString(n))}setLimit(t,n,r,s){return new Xe({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:V.toString(s)}]})}_addCheck(t){return new Xe({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:V.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:V.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&H.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Xe.create=e=>new Xe({checks:[],typeName:T.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...N(e)});class Je extends L{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==$.bigint){const i=this._getOrReturnCtx(t);return R(i,{code:_.invalid_type,expected:$.bigint,received:i.parsedType}),j}let r;const s=new le;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),R(r,{code:_.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),R(r,{code:_.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),R(r,{code:_.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):H.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,V.toString(n))}gt(t,n){return this.setLimit("min",t,!1,V.toString(n))}lte(t,n){return this.setLimit("max",t,!0,V.toString(n))}lt(t,n){return this.setLimit("max",t,!1,V.toString(n))}setLimit(t,n,r,s){return new Je({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:V.toString(s)}]})}_addCheck(t){return new Je({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Je.create=e=>{var t;return new Je({checks:[],typeName:T.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...N(e)})};class Ht extends L{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$.boolean){const r=this._getOrReturnCtx(t);return R(r,{code:_.invalid_type,expected:$.boolean,received:r.parsedType}),j}return de(t.data)}}Ht.create=e=>new Ht({typeName:T.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...N(e)});class dt extends L{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$.date){const i=this._getOrReturnCtx(t);return R(i,{code:_.invalid_type,expected:$.date,received:i.parsedType}),j}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return R(i,{code:_.invalid_date}),j}const r=new le;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),R(s,{code:_.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),R(s,{code:_.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):H.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dt({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:V.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:V.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}dt.create=e=>new dt({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:T.ZodDate,...N(e)});class En extends L{_parse(t){if(this._getType(t)!==$.symbol){const r=this._getOrReturnCtx(t);return R(r,{code:_.invalid_type,expected:$.symbol,received:r.parsedType}),j}return de(t.data)}}En.create=e=>new En({typeName:T.ZodSymbol,...N(e)});class Bt extends L{_parse(t){if(this._getType(t)!==$.undefined){const r=this._getOrReturnCtx(t);return R(r,{code:_.invalid_type,expected:$.undefined,received:r.parsedType}),j}return de(t.data)}}Bt.create=e=>new Bt({typeName:T.ZodUndefined,...N(e)});class Ut extends L{_parse(t){if(this._getType(t)!==$.null){const r=this._getOrReturnCtx(t);return R(r,{code:_.invalid_type,expected:$.null,received:r.parsedType}),j}return de(t.data)}}Ut.create=e=>new Ut({typeName:T.ZodNull,...N(e)});class Ft extends L{constructor(){super(...arguments),this._any=!0}_parse(t){return de(t.data)}}Ft.create=e=>new Ft({typeName:T.ZodAny,...N(e)});class lt extends L{constructor(){super(...arguments),this._unknown=!0}_parse(t){return de(t.data)}}lt.create=e=>new lt({typeName:T.ZodUnknown,...N(e)});class ze extends L{_parse(t){const n=this._getOrReturnCtx(t);return R(n,{code:_.invalid_type,expected:$.never,received:n.parsedType}),j}}ze.create=e=>new ze({typeName:T.ZodNever,...N(e)});class Pn extends L{_parse(t){if(this._getType(t)!==$.undefined){const r=this._getOrReturnCtx(t);return R(r,{code:_.invalid_type,expected:$.void,received:r.parsedType}),j}return de(t.data)}}Pn.create=e=>new Pn({typeName:T.ZodVoid,...N(e)});class ke extends L{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==$.array)return R(n,{code:_.invalid_type,expected:$.array,received:n.parsedType}),j;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(R(n,{code:o?_.too_big:_.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(R(n,{code:_.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(R(n,{code:_.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Me(n,o,n.path,a)))).then(o=>le.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Me(n,o,n.path,a)));return le.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new ke({...this._def,minLength:{value:t,message:V.toString(n)}})}max(t,n){return new ke({...this._def,maxLength:{value:t,message:V.toString(n)}})}length(t,n){return new ke({...this._def,exactLength:{value:t,message:V.toString(n)}})}nonempty(t){return this.min(1,t)}}ke.create=(e,t)=>new ke({type:e,minLength:null,maxLength:null,exactLength:null,typeName:T.ZodArray,...N(t)});function yt(e){if(e instanceof Y){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=De.create(yt(r))}return new Y({...e._def,shape:()=>t})}else return e instanceof ke?new ke({...e._def,type:yt(e.element)}):e instanceof De?De.create(yt(e.unwrap())):e instanceof et?et.create(yt(e.unwrap())):e instanceof Te?Te.create(e.items.map(t=>yt(t))):e}class Y extends L{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=H.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==$.object){const u=this._getOrReturnCtx(t);return R(u,{code:_.invalid_type,expected:$.object,received:u.parsedType}),j}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ze&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=i[u],g=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Me(s,g,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ze){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")a.length>0&&(R(s,{code:_.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const g=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Me(s,g,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const g=await c.key,m=await c.value;u.push({key:g,value:m,alwaysSet:c.alwaysSet})}return u}).then(u=>le.mergeObjectSync(r,u)):le.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return V.errToObj,new Y({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=V.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Y({...this._def,unknownKeys:"strip"})}passthrough(){return new Y({...this._def,unknownKeys:"passthrough"})}extend(t){return new Y({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Y({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:T.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Y({...this._def,catchall:t})}pick(t){const n={};return H.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Y({...this._def,shape:()=>n})}omit(t){const n={};return H.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Y({...this._def,shape:()=>n})}deepPartial(){return yt(this)}partial(t){const n={};return H.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new Y({...this._def,shape:()=>n})}required(t){const n={};return H.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof De;)i=i._def.innerType;n[r]=i}}),new Y({...this._def,shape:()=>n})}keyof(){return Ws(H.objectKeys(this.shape))}}Y.create=(e,t)=>new Y({shape:()=>e,unknownKeys:"strip",catchall:ze.create(),typeName:T.ZodObject,...N(t)});Y.strictCreate=(e,t)=>new Y({shape:()=>e,unknownKeys:"strict",catchall:ze.create(),typeName:T.ZodObject,...N(t)});Y.lazycreate=(e,t)=>new Y({shape:e,unknownKeys:"strip",catchall:ze.create(),typeName:T.ZodObject,...N(t)});class Gt extends L{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ve(a.ctx.common.issues));return R(n,{code:_.invalid_union,unionErrors:o}),j}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new ve(l));return R(n,{code:_.invalid_union,unionErrors:a}),j}}get options(){return this._def.options}}Gt.create=(e,t)=>new Gt({options:e,typeName:T.ZodUnion,...N(t)});const je=e=>e instanceof Kt?je(e.schema):e instanceof Pe?je(e.innerType()):e instanceof Qt?[e.value]:e instanceof Ye?e.options:e instanceof Xt?H.objectValues(e.enum):e instanceof Jt?je(e._def.innerType):e instanceof Bt?[void 0]:e instanceof Ut?[null]:e instanceof De?[void 0,...je(e.unwrap())]:e instanceof et?[null,...je(e.unwrap())]:e instanceof Ir||e instanceof en?je(e.unwrap()):e instanceof Yt?je(e._def.innerType):[];class Mn extends L{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.object)return R(n,{code:_.invalid_type,expected:$.object,received:n.parsedType}),j;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(R(n,{code:_.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),j)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const o=je(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Mn({typeName:T.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...N(r)})}}function yr(e,t){const n=Ue(e),r=Ue(t);if(e===t)return{valid:!0,data:e};if(n===$.object&&r===$.object){const s=H.objectKeys(t),i=H.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const l=yr(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===$.array&&r===$.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],l=yr(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===$.date&&r===$.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class qt extends L{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,o)=>{if(mr(i)||mr(o))return j;const a=yr(i.value,o.value);return a.valid?((vr(i)||vr(o))&&n.dirty(),{status:n.value,value:a.data}):(R(r,{code:_.invalid_intersection_types}),j)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}qt.create=(e,t,n)=>new qt({left:e,right:t,typeName:T.ZodIntersection,...N(n)});class Te extends L{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.array)return R(r,{code:_.invalid_type,expected:$.array,received:r.parsedType}),j;if(r.data.length<this._def.items.length)return R(r,{code:_.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j;!this._def.rest&&r.data.length>this._def.items.length&&(R(r,{code:_.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Me(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>le.mergeArray(n,o)):le.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Te({...this._def,rest:t})}}Te.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Te({items:e,typeName:T.ZodTuple,rest:null,...N(t)})};class Wt extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.object)return R(r,{code:_.invalid_type,expected:$.object,received:r.parsedType}),j;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Me(r,a,r.path,a)),value:o._parse(new Me(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?le.mergeObjectAsync(n,s):le.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof L?new Wt({keyType:t,valueType:n,typeName:T.ZodRecord,...N(r)}):new Wt({keyType:$e.create(),valueType:t,typeName:T.ZodRecord,...N(n)})}}class Vn extends L{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.map)return R(r,{code:_.invalid_type,expected:$.map,received:r.parsedType}),j;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Me(r,a,r.path,[u,"key"])),value:i._parse(new Me(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return j;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return j;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}Vn.create=(e,t,n)=>new Vn({valueType:t,keyType:e,typeName:T.ZodMap,...N(n)});class ft extends L{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.set)return R(r,{code:_.invalid_type,expected:$.set,received:r.parsedType}),j;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(R(r,{code:_.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(R(r,{code:_.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return j;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Me(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,n){return new ft({...this._def,minSize:{value:t,message:V.toString(n)}})}max(t,n){return new ft({...this._def,maxSize:{value:t,message:V.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}ft.create=(e,t)=>new ft({valueType:e,minSize:null,maxSize:null,typeName:T.ZodSet,...N(t)});class wt extends L{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.function)return R(n,{code:_.invalid_type,expected:$.function,received:n.parsedType}),j;function r(a,l){return kn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$n(),kt].filter(u=>!!u),issueData:{code:_.invalid_arguments,argumentsError:l}})}function s(a,l){return kn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$n(),kt].filter(u=>!!u),issueData:{code:_.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Et){const a=this;return de(async function(...l){const u=new ve([]),c=await a._def.args.parseAsync(l,i).catch(f=>{throw u.addIssue(r(l,f)),u}),g=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(g,i).catch(f=>{throw u.addIssue(s(g,f)),u})})}else{const a=this;return de(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new ve([r(l,u.error)]);const c=Reflect.apply(o,this,u.data),g=a._def.returns.safeParse(c,i);if(!g.success)throw new ve([s(c,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new wt({...this._def,args:Te.create(t).rest(lt.create())})}returns(t){return new wt({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new wt({args:t||Te.create([]).rest(lt.create()),returns:n||lt.create(),typeName:T.ZodFunction,...N(r)})}}class Kt extends L{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Kt.create=(e,t)=>new Kt({getter:e,typeName:T.ZodLazy,...N(t)});class Qt extends L{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return R(n,{received:n.data,code:_.invalid_literal,expected:this._def.value}),j}return{status:"valid",value:t.data}}get value(){return this._def.value}}Qt.create=(e,t)=>new Qt({value:e,typeName:T.ZodLiteral,...N(t)});function Ws(e,t){return new Ye({values:e,typeName:T.ZodEnum,...N(t)})}class Ye extends L{constructor(){super(...arguments),Tt.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return R(n,{expected:H.joinValues(r),received:n.parsedType,code:_.invalid_type}),j}if(Fn(this,Tt)||Bs(this,Tt,new Set(this._def.values)),!Fn(this,Tt).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return R(n,{received:n.data,code:_.invalid_enum_value,options:r}),j}return de(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ye.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ye.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Tt=new WeakMap;Ye.create=Ws;class Xt extends L{constructor(){super(...arguments),Ot.set(this,void 0)}_parse(t){const n=H.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==$.string&&r.parsedType!==$.number){const s=H.objectValues(n);return R(r,{expected:H.joinValues(s),received:r.parsedType,code:_.invalid_type}),j}if(Fn(this,Ot)||Bs(this,Ot,new Set(H.getValidEnumValues(this._def.values))),!Fn(this,Ot).has(t.data)){const s=H.objectValues(n);return R(r,{received:r.data,code:_.invalid_enum_value,options:s}),j}return de(t.data)}get enum(){return this._def.values}}Ot=new WeakMap;Xt.create=(e,t)=>new Xt({values:e,typeName:T.ZodNativeEnum,...N(t)});class Et extends L{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.promise&&n.common.async===!1)return R(n,{code:_.invalid_type,expected:$.promise,received:n.parsedType}),j;const r=n.parsedType===$.promise?n.data:Promise.resolve(n.data);return de(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Et.create=(e,t)=>new Et({type:e,typeName:T.ZodPromise,...N(t)});class Pe extends L{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===T.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{R(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return j;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?j:l.status==="dirty"||n.value==="dirty"?xt(l.value):l});{if(n.value==="aborted")return j;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?j:a.status==="dirty"||n.value==="dirty"?xt(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?j:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?j:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zt(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>zt(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);H.assertNever(s)}}Pe.create=(e,t,n)=>new Pe({schema:e,typeName:T.ZodEffects,effect:t,...N(n)});Pe.createWithPreprocess=(e,t,n)=>new Pe({schema:t,effect:{type:"preprocess",transform:e},typeName:T.ZodEffects,...N(n)});class De extends L{_parse(t){return this._getType(t)===$.undefined?de(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}De.create=(e,t)=>new De({innerType:e,typeName:T.ZodOptional,...N(t)});class et extends L{_parse(t){return this._getType(t)===$.null?de(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}et.create=(e,t)=>new et({innerType:e,typeName:T.ZodNullable,...N(t)});class Jt extends L{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===$.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Jt.create=(e,t)=>new Jt({innerType:e,typeName:T.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...N(t)});class Yt extends L{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Zt(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ve(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ve(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Yt.create=(e,t)=>new Yt({innerType:e,typeName:T.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...N(t)});class An extends L{_parse(t){if(this._getType(t)!==$.nan){const r=this._getOrReturnCtx(t);return R(r,{code:_.invalid_type,expected:$.nan,received:r.parsedType}),j}return{status:"valid",value:t.data}}}An.create=e=>new An({typeName:T.ZodNaN,...N(e)});const Ea=Symbol("zod_brand");class Ir extends L{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class hn extends L{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?j:i.status==="dirty"?(n.dirty(),xt(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?j:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new hn({in:t,out:n,typeName:T.ZodPipeline})}}class en extends L{_parse(t){const n=this._def.innerType._parse(t),r=s=>(zt(s)&&(s.value=Object.freeze(s.value)),s);return Zt(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}en.create=(e,t)=>new en({innerType:e,typeName:T.ZodReadonly,...N(t)});function Ks(e,t={},n){return e?Ft.create().superRefine((r,s)=>{var i,o;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:l})}}):Ft.create()}const Pa={object:Y.lazycreate};var T;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(T||(T={}));const Va=(e,t={message:`Input not instance of ${e.name}`})=>Ks(n=>n instanceof e,t),Qs=$e.create,Xs=Xe.create,Aa=An.create,Ia=Je.create,Js=Ht.create,Da=dt.create,Ma=En.create,Ta=Bt.create,Oa=Ut.create,ja=Ft.create,Na=lt.create,La=ze.create,za=Pn.create,Za=ke.create,Ha=Y.create,Ba=Y.strictCreate,Ua=Gt.create,Ga=Mn.create,qa=qt.create,Wa=Te.create,Ka=Wt.create,Qa=Vn.create,Xa=ft.create,Ja=wt.create,Ya=Kt.create,el=Qt.create,tl=Ye.create,nl=Xt.create,rl=Et.create,gs=Pe.create,sl=De.create,il=et.create,ol=Pe.createWithPreprocess,al=hn.create,ll=()=>Qs().optional(),ul=()=>Xs().optional(),cl=()=>Js().optional(),dl={string:e=>$e.create({...e,coerce:!0}),number:e=>Xe.create({...e,coerce:!0}),boolean:e=>Ht.create({...e,coerce:!0}),bigint:e=>Je.create({...e,coerce:!0}),date:e=>dt.create({...e,coerce:!0})},fl=j;var He=Object.freeze({__proto__:null,defaultErrorMap:kt,setErrorMap:fa,getErrorMap:$n,makeIssue:kn,EMPTY_PATH:ga,addIssueToContext:R,ParseStatus:le,INVALID:j,DIRTY:xt,OK:de,isAborted:mr,isDirty:vr,isValid:zt,isAsync:Zt,get util(){return H},get objectUtil(){return pr},ZodParsedType:$,getParsedType:Ue,ZodType:L,datetimeRegex:qs,ZodString:$e,ZodNumber:Xe,ZodBigInt:Je,ZodBoolean:Ht,ZodDate:dt,ZodSymbol:En,ZodUndefined:Bt,ZodNull:Ut,ZodAny:Ft,ZodUnknown:lt,ZodNever:ze,ZodVoid:Pn,ZodArray:ke,ZodObject:Y,ZodUnion:Gt,ZodDiscriminatedUnion:Mn,ZodIntersection:qt,ZodTuple:Te,ZodRecord:Wt,ZodMap:Vn,ZodSet:ft,ZodFunction:wt,ZodLazy:Kt,ZodLiteral:Qt,ZodEnum:Ye,ZodNativeEnum:Xt,ZodPromise:Et,ZodEffects:Pe,ZodTransformer:Pe,ZodOptional:De,ZodNullable:et,ZodDefault:Jt,ZodCatch:Yt,ZodNaN:An,BRAND:Ea,ZodBranded:Ir,ZodPipeline:hn,ZodReadonly:en,custom:Ks,Schema:L,ZodSchema:L,late:Pa,get ZodFirstPartyTypeKind(){return T},coerce:dl,any:ja,array:Za,bigint:Ia,boolean:Js,date:Da,discriminatedUnion:Ga,effect:gs,enum:tl,function:Ja,instanceof:Va,intersection:qa,lazy:Ya,literal:el,map:Qa,nan:Aa,nativeEnum:nl,never:La,null:Oa,nullable:il,number:Xs,object:Ha,oboolean:cl,onumber:ul,optional:sl,ostring:ll,pipeline:al,preprocess:ol,promise:rl,record:Ka,set:Xa,strictObject:Ba,string:Qs,symbol:Ma,transformer:gs,tuple:Wa,undefined:Ta,union:Ua,unknown:Na,void:za,NEVER:fl,ZodIssueCode:_,quotelessJson:da,ZodError:ve}),Nt=(e=>(e.products="PRODUCTS",e))(Nt||{});const Tn="https://torasungmarket.net/api",gl=async e=>{try{await fetch(`${Tn}/products`,{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)})}catch(t){console.log(t)}},hl=async()=>{try{const t=await(await fetch(`${Tn}/products`)).json();return t&&Array.isArray(t)&&t.map(r=>{const s=r,i=s.quantity*s.price;return{...s,total:i}})}catch(e){return console.log(e),[]}},pl=async e=>{console.log(e);try{await fetch(`${Tn}/products/${e}`,{method:"DELETE"})}catch(t){console.log(t)}},ml=async({id:e,product:t})=>{console.log(t);try{const n=await fetch(`${Tn}/products/${e}`,{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});console.log(await n.json())}catch(n){console.log(n)}},Ys=()=>{const e=br(),{mutate:t,isPending:n}=Un({mutationFn:a=>pl(a),onSuccess:()=>{Hn.success("Delete product successfully!"),e.invalidateQueries({queryKey:[Nt.products]})}}),{mutateAsync:r,isPending:s}=Un({mutationFn:gl,onSuccess:()=>{Hn.success("Add new product successfully!"),e.invalidateQueries({queryKey:[Nt.products]})}}),{mutateAsync:i,isPending:o}=Un({mutationFn:ml,onSuccess:()=>{Hn.success("Edit product successfully!"),e.invalidateQueries({queryKey:[Nt.products]})}});return{deleteProduct:t,isDeletingProduct:n,editProduct:i,isEditingProduct:o,addNewProduct:r,isAddingProduct:s}},vl=He.object({name:He.string().trim().min(1,{message:"This field is required"}),description:He.string().trim().min(1,{message:"This field is required"}),price:He.number(),location:He.string().trim().min(1,{message:"This field is required"}),quantity:He.number(),remark:He.string().optional(),image:He.string().optional()}),ei=({onToggleOpenState:e,defaultProductFormValue:t,type:n="add"})=>{const{addNewProduct:r,editProduct:s,isAddingProduct:i,isEditingProduct:o}=Ys(),{register:a,handleSubmit:l,setFocus:u,formState:{errors:c}}=ta({defaultValues:t||{price:1,quantity:1},resolver:ca(vl)});console.log(c);const g=i||o,m=l(f=>{const y=f.price*f.quantity;n==="add"&&r({...f,total:y}).then(()=>{e()}),n==="edit"&&t&&s({product:f,id:t.id}).then(()=>{e()})});return F.useEffect(()=>{u("name")},[u]),p.jsxs("form",{onSubmit:m,className:"flex flex-col gap-6",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(pt,{htmlFor:"product-name",children:"Name"}),p.jsx(ht,{error:c.name,placeholder:"Name",id:"product-name",...a("name")}),c.name&&p.jsx(mt,{message:c.name.message})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(pt,{htmlFor:"product-description",children:"Description"}),p.jsx(ht,{error:c.description,placeholder:"Product Description",...a("description"),id:"product-description"}),c.description&&p.jsx(mt,{message:c.description.message})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(pt,{htmlFor:"product-price",children:"Price"}),p.jsx(ht,{error:c.price,...a("price",{valueAsNumber:!0}),placeholder:"Product Price",id:"product-price",type:"number"}),c.price&&p.jsx(mt,{message:c.price.message})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(pt,{htmlFor:"product-location",children:"Location"}),p.jsx(ht,{error:c.location,placeholder:"Product Location",id:"product-location",...a("location")}),c.location&&p.jsx(mt,{message:c.location.message})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(pt,{htmlFor:"product-quantity",children:"Quantity"}),p.jsx(ht,{error:c.quantity,...a("quantity",{valueAsNumber:!0}),placeholder:"Product Quantity",id:"product-quantity",type:"number"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx(pt,{htmlFor:"product-location",children:"Remark"}),p.jsx(ht,{error:c.remark,placeholder:"Remark",id:"product-location",...a("remark")}),c.location&&p.jsx(mt,{message:c.location.message})]}),c.quantity&&p.jsx(mt,{message:c.quantity.message})]}),p.jsxs(Qi,{children:[p.jsx("div",{className:"flex items-center gap-4",children:p.jsx(ct,{disabled:g,onClick:e,variant:"outline",type:"button",children:"Cancel"})}),p.jsxs(ct,{disabled:g,type:"submit",children:[n==="add"?g?"Adding product...":"Add product":null,n==="edit"?g?"Editing product...":"Edit product":null]})]})]})},yl=()=>{const[e,t]=F.useState(!1),n=()=>t(r=>!r);return p.jsx("div",{className:"flex justify-end",children:p.jsxs(Cs,{open:e,children:[p.jsx(Rs,{asChild:!0,children:p.jsxs(ct,{onClick:n,variant:"rounded-action",className:"flex items-center gap-2",children:[p.jsx(Li,{className:"text-white",size:25}),p.jsx("span",{children:"Add New Product"})]})}),p.jsxs(bs,{className:"sm:max-w-[425px]",children:[p.jsx($s,{children:p.jsx(ks,{children:"Add New Product"})}),p.jsx(ei,{type:"add",onToggleOpenState:n})]})]})})},_l=()=>p.jsx("div",{className:"flex justify-end",children:p.jsxs(ct,{variant:"rounded-action",className:"flex items-center gap-2",children:[p.jsx(zi,{className:"text-white",size:25}),p.jsx("span",{children:"Export "})]})}),xl=()=>p.jsx("div",{className:"flex justify-end",children:p.jsxs(ct,{variant:"rounded-action",className:"flex items-center gap-2",children:[p.jsx(Zi,{className:"text-white",size:25}),p.jsx("span",{children:"Import"})]})}),wl=()=>p.jsxs("div",{className:"flex items-center gap-3 justify-end mb-6",children:[p.jsx(yl,{}),p.jsx(xl,{}),p.jsx(_l,{})]}),Sl=()=>p.jsx(oo,{children:p.jsxs(ao,{children:[p.jsx(lo,{className:"text-base mb-6",children:"Filter"}),p.jsx(uo,{children:"Products"})]})});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Qe(e,t){return typeof e=="function"?e(t):e}function ye(e,t){return n=>{t.setState(r=>({...r,[e]:Qe(n,r[e])}))}}function On(e){return e instanceof Function}function Cl(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Rl(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function D(e,t,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((c,g)=>r[g]!==c)))return s;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,g=Math.round((Date.now()-u)*100)/100,m=g/16,f=(y,S)=>{for(y=String(y);y.length<S;)y=" "+y;return y};console.info(`%c⏱ ${f(g,5)} /${f(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function M(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function bl(e,t,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:D(()=>[e,n,t,i],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),M(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function $l(e,t,n,r){var s,i;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(s=(i=a.id)!=null?i:l?l.replace(".","_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=m=>{let f=m;for(const S of l.split(".")){var y;f=(y=f)==null?void 0:y[S]}return f}:c=m=>m[a.accessorKey]),!u)throw new Error;let g={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:D(()=>[!0],()=>{var m;return[g,...(m=g.columns)==null?void 0:m.flatMap(f=>f.getFlatColumns())]},M(e.options,"debugColumns")),getLeafColumns:D(()=>[e._getOrderColumnsFn()],m=>{var f;if((f=g.columns)!=null&&f.length){let y=g.columns.flatMap(S=>S.getLeafColumns());return m(y)}return[g]},M(e.options,"debugColumns"))};for(const m of e._features)m.createColumn==null||m.createColumn(g,e);return g}const ae="debugHeaders";function hs(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const kl={createTable:e=>{e.getHeaderGroups=D(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,o;const a=(i=r==null?void 0:r.map(g=>n.find(m=>m.id===g)).filter(Boolean))!=null?i:[],l=(o=s==null?void 0:s.map(g=>n.find(m=>m.id===g)).filter(Boolean))!=null?o:[],u=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(s!=null&&s.includes(g.id)));return mn(t,[...a,...u,...l],e)},M(e.options,ae)),e.getCenterHeaderGroups=D(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),mn(t,n,e,"center")),M(e.options,ae)),e.getLeftHeaderGroups=D(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return mn(t,i,e,"left")},M(e.options,ae)),e.getRightHeaderGroups=D(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return mn(t,i,e,"right")},M(e.options,ae)),e.getFooterGroups=D(()=>[e.getHeaderGroups()],t=>[...t].reverse(),M(e.options,ae)),e.getLeftFooterGroups=D(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),M(e.options,ae)),e.getCenterFooterGroups=D(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),M(e.options,ae)),e.getRightFooterGroups=D(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),M(e.options,ae)),e.getFlatHeaders=D(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),M(e.options,ae)),e.getLeftFlatHeaders=D(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),M(e.options,ae)),e.getCenterFlatHeaders=D(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),M(e.options,ae)),e.getRightFlatHeaders=D(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),M(e.options,ae)),e.getCenterLeafHeaders=D(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),M(e.options,ae)),e.getLeftLeafHeaders=D(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),M(e.options,ae)),e.getRightLeafHeaders=D(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),M(e.options,ae)),e.getLeafHeaders=D(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,o,a,l,u;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},M(e.options,ae))}};function mn(e,t,n,r){var s,i;let o=0;const a=function(m,f){f===void 0&&(f=1),o=Math.max(o,f),m.filter(y=>y.getIsVisible()).forEach(y=>{var S;(S=y.columns)!=null&&S.length&&a(y.columns,f+1)},0)};a(e);let l=[];const u=(m,f)=>{const y={depth:f,id:[r,`${f}`].filter(Boolean).join("_"),headers:[]},S=[];m.forEach(E=>{const A=[...S].reverse()[0],P=E.column.depth===y.depth;let O,q=!1;if(P&&E.column.parent?O=E.column.parent:(O=E.column,q=!0),A&&(A==null?void 0:A.column)===O)A.subHeaders.push(E);else{const z=hs(n,O,{id:[r,f,O.id,E==null?void 0:E.id].filter(Boolean).join("_"),isPlaceholder:q,placeholderId:q?`${S.filter(fe=>fe.column===O).length}`:void 0,depth:f,index:S.length});z.subHeaders.push(E),S.push(z)}y.headers.push(E),E.headerGroup=y}),l.push(y),f>0&&u(S,f-1)},c=t.map((m,f)=>hs(n,m,{depth:o,index:f}));u(c,o-1),l.reverse();const g=m=>m.filter(y=>y.column.getIsVisible()).map(y=>{let S=0,E=0,A=[0];y.subHeaders&&y.subHeaders.length?(A=[],g(y.subHeaders).forEach(O=>{let{colSpan:q,rowSpan:z}=O;S+=q,A.push(z)})):S=1;const P=Math.min(...A);return E=E+P,y.colSpan=S,y.rowSpan=E,{colSpan:S,rowSpan:E}});return g((s=(i=l[0])==null?void 0:i.headers)!=null?s:[]),l}const Dr=(e,t,n,r,s,i,o)=>{let a={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Rl(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:D(()=>[e.getAllLeafColumns()],l=>l.map(u=>bl(e,a,u,u.id)),M(e.options,"debugRows")),_getAllCellsByColumnId:D(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),M(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},Fl={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},ti=(e,t,n)=>{var r;const s=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(s))};ti.autoRemove=e=>Fe(e);const ni=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};ni.autoRemove=e=>Fe(e);const ri=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};ri.autoRemove=e=>Fe(e);const si=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};si.autoRemove=e=>Fe(e)||!(e!=null&&e.length);const ii=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});ii.autoRemove=e=>Fe(e)||!(e!=null&&e.length);const oi=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});oi.autoRemove=e=>Fe(e)||!(e!=null&&e.length);const ai=(e,t,n)=>e.getValue(t)===n;ai.autoRemove=e=>Fe(e);const li=(e,t,n)=>e.getValue(t)==n;li.autoRemove=e=>Fe(e);const Mr=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};Mr.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const a=i;i=o,o=a}return[i,o]};Mr.autoRemove=e=>Fe(e)||Fe(e[0])&&Fe(e[1]);const Ne={includesString:ti,includesStringSensitive:ni,equalsString:ri,arrIncludes:si,arrIncludesAll:ii,arrIncludesSome:oi,equals:ai,weakEquals:li,inNumberRange:Mr};function Fe(e){return e==null||e===""}const El={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ye("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Ne.includesString:typeof r=="number"?Ne.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Ne.equals:Array.isArray(r)?Ne.arrIncludes:Ne.weakEquals},e.getFilterFn=()=>{var n,r;return On(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Ne[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r==null?void 0:r.find(c=>c.id===e.id),o=Qe(n,i?i.value:void 0);if(ps(s,o,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(i){var u;return(u=r==null?void 0:r.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=Qe(t,s))==null?void 0:i.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(ps(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function ps(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Pl=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),Vl=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},Al=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},Il=(e,t,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},Dl=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},Ml=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!Cl(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},Tl=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Ol=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,jl=(e,t)=>t.length,Jn={sum:Pl,min:Vl,max:Al,extent:Il,mean:Dl,median:Ml,unique:Tl,uniqueCount:Ol,count:jl},Nl={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ye("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Jn.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Jn.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return On(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Jn[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function Ll(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const zl={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ye("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=D(n=>[Lt(t,n)],n=>n.findIndex(r=>r.id===e.id),M(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Lt(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Lt(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=D(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const o=[...t],a=[...s];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&i.push(a.splice(u,1)[0])}i=[...i,...a]}return Ll(i,n,r)},M(e.options,"debugTable"))}},Yn=()=>({left:[],right:[]}),Zl={getInitialState:e=>({columnPinning:Yn(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ye("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,o;if(n==="right"){var a,l;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((l=s==null?void 0:s.right)!=null?l:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var u,c;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((c=s==null?void 0:s.right)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(g=>!(r!=null&&r.includes(g))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=D(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},M(t.options,"debugRows")),e.getLeftVisibleCells=D(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),M(t.options,"debugRows")),e.getRightVisibleCells=D(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),M(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Yn():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Yn())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=D(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),M(e.options,"debugColumns")),e.getRightLeafColumns=D(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),M(e.options,"debugColumns")),e.getCenterLeafColumns=D(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},M(e.options,"debugColumns"))}},vn={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},er=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Hl={getDefaultColumnDef:()=>vn,getInitialState:e=>({columnSizing:{},columnSizingInfo:er(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ye("columnSizing",e),onColumnSizingInfoChange:ye("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:vn.minSize,(r=i??e.columnDef.size)!=null?r:vn.size),(s=e.columnDef.maxSize)!=null?s:vn.maxSize)},e.getStart=D(n=>[n,Lt(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),M(t.options,"debugColumns")),e.getAfter=D(n=>[n,Lt(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),M(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),tr(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(A=>[A.column.id,A.column.getSize()]):[[r.id,r.getSize()]],l=tr(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(A,P)=>{typeof P=="number"&&(t.setColumnSizingInfo(O=>{var q,z;const fe=t.options.columnResizeDirection==="rtl"?-1:1,Ve=(P-((q=O==null?void 0:O.startOffset)!=null?q:0))*fe,J=Math.max(Ve/((z=O==null?void 0:O.startSize)!=null?z:0),-.999999);return O.columnSizingStart.forEach(_e=>{let[ie,nt]=_e;u[ie]=Math.round(Math.max(nt+nt*J,0)*100)/100}),{...O,deltaOffset:Ve,deltaPercentage:J}}),(t.options.columnResizeMode==="onChange"||A==="end")&&t.setColumnSizing(O=>({...O,...u})))},g=A=>c("move",A),m=A=>{c("end",A),t.setColumnSizingInfo(P=>({...P,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=n||typeof document<"u"?document:null,y={moveHandler:A=>g(A.clientX),upHandler:A=>{f==null||f.removeEventListener("mousemove",y.moveHandler),f==null||f.removeEventListener("mouseup",y.upHandler),m(A.clientX)}},S={moveHandler:A=>(A.cancelable&&(A.preventDefault(),A.stopPropagation()),g(A.touches[0].clientX),!1),upHandler:A=>{var P;f==null||f.removeEventListener("touchmove",S.moveHandler),f==null||f.removeEventListener("touchend",S.upHandler),A.cancelable&&(A.preventDefault(),A.stopPropagation()),m((P=A.touches[0])==null?void 0:P.clientX)}},E=Bl()?{passive:!1}:!1;tr(i)?(f==null||f.addEventListener("touchmove",S.moveHandler,E),f==null||f.addEventListener("touchend",S.upHandler,E)):(f==null||f.addEventListener("mousemove",y.moveHandler,E),f==null||f.addEventListener("mouseup",y.upHandler,E)),t.setColumnSizingInfo(A=>({...A,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?er():(n=e.initialState.columnSizingInfo)!=null?n:er())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let yn=null;function Bl(){if(typeof yn=="boolean")return yn;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return yn=e,yn}function tr(e){return e.type==="touchstart"}const Ul={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ye("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=D(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),M(t.options,"debugRows")),e.getVisibleCells=D(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],M(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>D(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),M(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Lt(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Gl={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},ql={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ye("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Ne.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return On(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Ne[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Wl={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ye("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},_r=0,xr=10,nr=()=>({pageIndex:_r,pageSize:xr}),Kl={getInitialState:e=>({...e,pagination:{...nr(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ye("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>Qe(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?nr():(s=e.initialState.pagination)!=null?s:nr())},e.setPageIndex=r=>{e.setPagination(s=>{let i=Qe(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?_r:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:_r)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?xr:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:xr)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,Qe(r,s.pageSize)),o=s.pageSize*s.pageIndex,a=Math.floor(o/i);return{...s,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let o=Qe(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=D(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},M(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},rr=()=>({top:[],bottom:[]}),Ql={getInitialState:e=>({rowPinning:rr(),...e}),getDefaultOptions:e=>({onRowPinningChange:ye("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=s?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,e.id,...i]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var g,m;return{top:((g=l==null?void 0:l.top)!=null?g:[]).filter(S=>!(a!=null&&a.has(S))),bottom:[...((m=l==null?void 0:l.bottom)!=null?m:[]).filter(S=>!(a!=null&&a.has(S))),...Array.from(a)]}}if(n==="top"){var f,y;return{top:[...((f=l==null?void 0:l.top)!=null?f:[]).filter(S=>!(a!=null&&a.has(S))),...Array.from(a)],bottom:((y=l==null?void 0:l.bottom)!=null?y:[]).filter(S=>!(a!=null&&a.has(S)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(S=>!(a!=null&&a.has(S))),bottom:((c=l==null?void 0:l.bottom)!=null?c:[]).filter(S=>!(a!=null&&a.has(S)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=t._getPinnedRows(s))==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?rr():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:rr())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=D(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},M(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=D(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},M(e.options,"debugRows"))}},Xl={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ye("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{wr(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=D(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?sr(e,n):{rows:[],flatRows:[],rowsById:{}},M(e.options,"debugTable")),e.getFilteredSelectedRowModel=D(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?sr(e,n):{rows:[],flatRows:[],rowsById:{}},M(e.options,"debugTable")),e.getGroupedSelectedRowModel=D(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?sr(e,n):{rows:[],flatRows:[],rowsById:{}},M(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const a={...i};return wr(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Tr(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Sr(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Sr(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},wr=(e,t,n,r,s)=>{var i;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>wr(e,a.id,n,r,s))};function sr(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(o,a){return o.map(l=>{var u;const c=Tr(l,n);if(c&&(r.push(l),s[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:i(l.subRows)}),c)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function Tr(e,t){var n;return(n=t[e.id])!=null?n:!1}function Sr(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(Tr(o,t)?i=!0:s=!1),o.subRows&&o.subRows.length)){const a=Sr(o,t);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const Cr=/([0-9]+)/gm,Jl=(e,t,n)=>ui(tt(e.getValue(n)).toLowerCase(),tt(t.getValue(n)).toLowerCase()),Yl=(e,t,n)=>ui(tt(e.getValue(n)),tt(t.getValue(n))),eu=(e,t,n)=>Or(tt(e.getValue(n)).toLowerCase(),tt(t.getValue(n)).toLowerCase()),tu=(e,t,n)=>Or(tt(e.getValue(n)),tt(t.getValue(n))),nu=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},ru=(e,t,n)=>Or(e.getValue(n),t.getValue(n));function Or(e,t){return e===t?0:e>t?1:-1}function tt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function ui(e,t){const n=e.split(Cr).filter(Boolean),r=t.split(Cr).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),a=parseInt(i,10),l=[o,a].sort();if(isNaN(l[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const Dt={alphanumeric:Jl,alphanumericCaseSensitive:Yl,text:eu,textCaseSensitive:tu,datetime:nu,basic:ru},su={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ye("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Dt.datetime;if(typeof i=="string"&&(r=!0,i.split(Cr).length>1))return Dt.alphanumeric}return r?Dt.text:Dt.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return On(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Dt[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(f=>f.id===e.id),l=o==null?void 0:o.findIndex(f=>f.id===e.id);let u=[],c,g=i?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(i||s||(c="remove")),c==="add"){var m;u=[...o,{id:e.id,desc:g}],u.splice(0,u.length-((m=t.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(f=>f.id===e.id?{...f,desc:g}:f):c==="remove"?u=o.filter(f=>f.id!==e.id):u=[{id:e.id,desc:g}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},iu=[kl,Ul,zl,Zl,Fl,El,Gl,ql,su,Nl,Wl,Kl,Ql,Xl,Hl];function ou(e){var t,n;const r=[...iu,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((m,f)=>Object.assign(m,f.getDefaultOptions==null?void 0:f.getDefaultOptions(s)),{}),o=m=>s.options.mergeOptions?s.options.mergeOptions(i,m):{...i,...m};let l={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(m=>{var f;l=(f=m.getInitialState==null?void 0:m.getInitialState(l))!=null?f:l});const u=[];let c=!1;const g={_features:r,options:{...i,...e},initialState:l,_queue:m=>{u.push(m),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{s.setState(s.initialState)},setOptions:m=>{const f=Qe(m,s.options);s.options=o(f)},getState:()=>s.options.state,setState:m=>{s.options.onStateChange==null||s.options.onStateChange(m)},_getRowId:(m,f,y)=>{var S;return(S=s.options.getRowId==null?void 0:s.options.getRowId(m,f,y))!=null?S:`${y?[y.id,f].join("."):f}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(m,f)=>{let y=(f?s.getPrePaginationRowModel():s.getRowModel()).rowsById[m];if(!y&&(y=s.getCoreRowModel().rowsById[m],!y))throw new Error;return y},_getDefaultColumnDef:D(()=>[s.options.defaultColumn],m=>{var f;return m=(f=m)!=null?f:{},{header:y=>{const S=y.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:y=>{var S,E;return(S=(E=y.renderValue())==null||E.toString==null?void 0:E.toString())!=null?S:null},...s._features.reduce((y,S)=>Object.assign(y,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...m}},M(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:D(()=>[s._getColumnDefs()],m=>{const f=function(y,S,E){return E===void 0&&(E=0),y.map(A=>{const P=$l(s,A,E,S),O=A;return P.columns=O.columns?f(O.columns,P,E+1):[],P})};return f(m)},M(e,"debugColumns")),getAllFlatColumns:D(()=>[s.getAllColumns()],m=>m.flatMap(f=>f.getFlatColumns()),M(e,"debugColumns")),_getAllFlatColumnsById:D(()=>[s.getAllFlatColumns()],m=>m.reduce((f,y)=>(f[y.id]=y,f),{}),M(e,"debugColumns")),getAllLeafColumns:D(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(m,f)=>{let y=m.flatMap(S=>S.getLeafColumns());return f(y)},M(e,"debugColumns")),getColumn:m=>s._getAllFlatColumnsById()[m]};Object.assign(s,g);for(let m=0;m<s._features.length;m++){const f=s._features[m];f==null||f.createTable==null||f.createTable(s)}return s}function au(){return e=>D(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const a=[];for(let u=0;u<s.length;u++){const c=Dr(e,e._getRowId(s[u],u,o),s[u],u,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(s[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,i+1,c))}}return a};return n.rows=r(t),n},M(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function lu(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function uu(e,t,n){return n.options.filterFromLeafRows?cu(e,t,n):du(e,t,n)}function cu(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let m=0;m<l.length;m++){var g;let f=l[m];const y=Dr(n,f.id,f.original,f.index,f.depth,void 0,f.parentId);if(y.columnFilters=f.columnFilters,(g=f.subRows)!=null&&g.length&&u<o){if(y.subRows=a(f.subRows,u+1),f=y,t(f)&&!y.subRows.length){c.push(f),i[f.id]=f,s.push(f);continue}if(t(f)||y.subRows.length){c.push(f),i[f.id]=f,s.push(f);continue}}else f=y,t(f)&&(c.push(f),i[f.id]=f,s.push(f))}return c};return{rows:a(e),flatRows:s,rowsById:i}}function du(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let m=0;m<l.length;m++){let f=l[m];if(t(f)){var g;if((g=f.subRows)!=null&&g.length&&u<o){const S=Dr(n,f.id,f.original,f.index,f.depth,void 0,f.parentId);S.subRows=a(f.subRows,u+1),f=S}c.push(f),s.push(f),i[f.id]=f}}return c};return{rows:a(e),flatRows:s,rowsById:i}}function fu(){return e=>D(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let m=0;m<t.flatRows.length;m++)t.flatRows[m].columnFilters={},t.flatRows[m].columnFiltersMeta={};return t}const s=[],i=[];(n??[]).forEach(m=>{var f;const y=e.getColumn(m.id);if(!y)return;const S=y.getFilterFn();S&&s.push({id:m.id,filterFn:S,resolvedValue:(f=S.resolveFilterValue==null?void 0:S.resolveFilterValue(m.value))!=null?f:m.value})});const o=(n??[]).map(m=>m.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(m=>m.getCanGlobalFilter());r&&a&&l.length&&(o.push("__global__"),l.forEach(m=>{var f;i.push({id:m.id,filterFn:a,resolvedValue:(f=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?f:r})}));let u,c;for(let m=0;m<t.flatRows.length;m++){const f=t.flatRows[m];if(f.columnFilters={},s.length)for(let y=0;y<s.length;y++){u=s[y];const S=u.id;f.columnFilters[S]=u.filterFn(f,S,u.resolvedValue,E=>{f.columnFiltersMeta[S]=E})}if(i.length){for(let y=0;y<i.length;y++){c=i[y];const S=c.id;if(c.filterFn(f,S,c.resolvedValue,E=>{f.columnFiltersMeta[S]=E})){f.columnFilters.__global__=!0;break}}f.columnFilters.__global__!==!0&&(f.columnFilters.__global__=!1)}}const g=m=>{for(let f=0;f<o.length;f++)if(m.columnFilters[o[f]]===!1)return!1;return!0};return uu(t.rows,g,e)},M(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function gu(e){return t=>D(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:o,flatRows:a,rowsById:l}=r;const u=s*i,c=u+s;o=o.slice(u,c);let g;t.options.paginateExpandedRows?g={rows:o,flatRows:a,rowsById:l}:g=lu({rows:o,flatRows:a,rowsById:l}),g.flatRows=[];const m=f=>{g.flatRows.push(f),f.subRows.length&&f.subRows.forEach(m)};return g.rows.forEach(m),g},M(t.options,"debugTable"))}function hu(){return e=>D(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};i.forEach(l=>{const u=e.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,g)=>{for(let f=0;f<i.length;f+=1){var m;const y=i[f],S=o[y.id],E=S.sortUndefined,A=(m=y==null?void 0:y.desc)!=null?m:!1;let P=0;if(E){const O=c.getValue(y.id),q=g.getValue(y.id),z=O===void 0,fe=q===void 0;if(z||fe){if(E==="first")return z?-1:1;if(E==="last")return z?1:-1;P=z&&fe?0:z?E:-E}}if(P===0&&(P=S.sortingFn(c,g,y.id)),P!==0)return A&&(P*=-1),S.invertSorting&&(P*=-1),P}return c.index-g.index}),u.forEach(c=>{var g;s.push(c),(g=c.subRows)!=null&&g.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},M(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ms(e,t){return e?pu(e)?F.createElement(e,t):e:null}function pu(e){return mu(e)||typeof e=="function"||vu(e)}function mu(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function vu(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function yu(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=F.useState(()=>({current:ou(t)})),[r,s]=F.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const ci="Checkbox",[_u,fc]=ws(ci),[xu,wu]=_u(ci),Su=F.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,...c}=e,[g,m]=F.useState(null),f=$r(t,O=>m(O)),y=F.useRef(!1),S=g?!!g.closest("form"):!0,[E=!1,A]=Hi({prop:s,defaultProp:i,onChange:u}),P=F.useRef(E);return F.useEffect(()=>{const O=g==null?void 0:g.form;if(O){const q=()=>A(P.current);return O.addEventListener("reset",q),()=>O.removeEventListener("reset",q)}},[g,A]),F.createElement(xu,{scope:n,state:E,disabled:a},F.createElement(Ss.button,Ce({type:"button",role:"checkbox","aria-checked":ut(E)?"mixed":E,"aria-required":o,"data-state":di(E),"data-disabled":a?"":void 0,disabled:a,value:l},c,{ref:f,onKeyDown:ir(e.onKeyDown,O=>{O.key==="Enter"&&O.preventDefault()}),onClick:ir(e.onClick,O=>{A(q=>ut(q)?!0:!q),S&&(y.current=O.isPropagationStopped(),y.current||O.stopPropagation())})})),S&&F.createElement(bu,{control:g,bubbles:!y.current,name:r,value:l,checked:E,required:o,disabled:a,style:{transform:"translateX(-100%)"}}))}),Cu="CheckboxIndicator",Ru=F.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=wu(Cu,n);return F.createElement(Bi,{present:r||ut(i.state)||i.state===!0},F.createElement(Ss.span,Ce({"data-state":di(i.state),"data-disabled":i.disabled?"":void 0},s,{ref:t,style:{pointerEvents:"none",...e.style}})))}),bu=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,i=F.useRef(null),o=co(n),a=fo(t);return F.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&g){const m=new Event("click",{bubbles:r});l.indeterminate=ut(n),g.call(l,ut(n)?!1:n),l.dispatchEvent(m)}},[o,n,r]),F.createElement("input",Ce({type:"checkbox","aria-hidden":!0,defaultChecked:ut(n)?!1:n},s,{tabIndex:-1,ref:i,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function ut(e){return e==="indeterminate"}function di(e){return ut(e)?"indeterminate":e?"checked":"unchecked"}const fi=Su,$u=Ru,Rr=F.forwardRef(({className:e,...t},n)=>p.jsx(fi,{ref:n,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:p.jsx($u,{className:Ee("flex items-center justify-center text-current"),children:p.jsx(go,{className:"h-4 w-4"})})}));Rr.displayName=fi.displayName;const ku="AlertDialog",[Fu,gc]=ws(ku,[Fs]),Ze=Fs(),Eu=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ze(t);return F.createElement(ro,Ce({},r,n,{modal:!0}))},Pu=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ze(n);return F.createElement(so,Ce({},s,r,{ref:t}))}),Vu=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ze(t);return F.createElement(no,Ce({},r,n))},Au=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ze(n);return F.createElement(Xi,Ce({},s,r,{ref:t}))}),gi="AlertDialogContent",[Iu,Du]=Fu(gi),Mu=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Ze(n),o=F.useRef(null),a=$r(t,o),l=F.useRef(null);return F.createElement(Ji,{contentName:gi,titleName:Tu,docsSlug:"alert-dialog"},F.createElement(Iu,{scope:n,cancelRef:l},F.createElement(Yi,Ce({role:"alertdialog"},i,s,{ref:a,onOpenAutoFocus:ir(s.onOpenAutoFocus,u=>{var c;u.preventDefault(),(c=l.current)===null||c===void 0||c.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault()}),F.createElement(Ui,null,r),!1)))}),Tu="AlertDialogTitle",Ou=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ze(n);return F.createElement(eo,Ce({},s,r,{ref:t}))}),ju=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ze(n);return F.createElement(to,Ce({},s,r,{ref:t}))}),Nu=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ze(n);return F.createElement(Es,Ce({},s,r,{ref:t}))}),Lu="AlertDialogCancel",zu=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=Du(Lu,n),i=Ze(n),o=$r(t,s);return F.createElement(Es,Ce({},i,r,{ref:o}))}),Zu=Eu,Hu=Pu,Bu=Vu,hi=Au,pi=Mu,mi=Nu,vi=zu,yi=Ou,_i=ju,Uu=Zu,Gu=Hu,qu=Bu,xi=F.forwardRef(({className:e,...t},n)=>p.jsx(hi,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));xi.displayName=hi.displayName;const wi=F.forwardRef(({className:e,...t},n)=>p.jsxs(qu,{children:[p.jsx(xi,{}),p.jsx(pi,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));wi.displayName=pi.displayName;const Si=({className:e,...t})=>p.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});Si.displayName="AlertDialogHeader";const Ci=({className:e,...t})=>p.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ci.displayName="AlertDialogFooter";const Ri=F.forwardRef(({className:e,...t},n)=>p.jsx(yi,{ref:n,className:Ee("text-lg font-semibold",e),...t}));Ri.displayName=yi.displayName;const bi=F.forwardRef(({className:e,...t},n)=>p.jsx(_i,{ref:n,className:Ee("text-sm text-muted-foreground",e),...t}));bi.displayName=_i.displayName;const $i=F.forwardRef(({className:e,...t},n)=>p.jsx(mi,{ref:n,className:Ee(kr(),e),...t}));$i.displayName=mi.displayName;const ki=F.forwardRef(({className:e,...t},n)=>p.jsx(vi,{ref:n,className:Ee(kr({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ki.displayName=vi.displayName;const Wu=({id:e,productName:t})=>{const{deleteProduct:n,isDeletingProduct:r}=Ys();return p.jsxs(Uu,{children:[p.jsx(Gu,{asChild:!0,children:p.jsx("button",{children:p.jsx(Gi,{size:20,className:"text-destructive hover:scale-110 hover:rotate-3"})})}),p.jsxs(wi,{children:[p.jsxs(Si,{children:[p.jsxs(Ri,{children:["Are you absolutely sure want to delete ",t," product?"]}),p.jsx(bi,{children:"This action cannot be undone. This will permanently your product"})]}),p.jsxs(Ci,{children:[p.jsx(ki,{children:"Cancel"}),p.jsx($i,{className:kr({variant:"destructive"}),disabled:r,onClick:()=>n(e),children:"Continue"})]})]})]})},Ku=({product:e})=>{const[t,n]=F.useState(!1),r=()=>n(s=>!s);return p.jsxs(Cs,{open:t,children:[p.jsx(Rs,{asChild:!0,children:p.jsx("button",{onClick:r,children:p.jsx(yo,{size:20,className:"hover:scale-110 hover:rotate-3"})})}),p.jsxs(bs,{className:"sm:max-w-[425px]",children:[p.jsxs($s,{children:[p.jsx(ks,{children:"Edit profile"}),p.jsx(io,{children:"Make changes to your profile here. Click save when you're done."})]}),p.jsx(ei,{defaultProductFormValue:{...e},onToggleOpenState:r,type:"edit"})]})]})},Qu=({product:e})=>p.jsxs("div",{className:"flex gap-4 items-",children:[p.jsx(Ku,{product:e}),p.jsx(Wu,{id:e.id,productName:e.name})]}),vs=[{id:"select",header:({table:e})=>p.jsx(Rr,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>e.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"}),cell:({row:e})=>p.jsx(Rr,{checked:e.getIsSelected(),onCheckedChange:t=>e.toggleSelected(!!t),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Product",cell:({row:e})=>p.jsx("div",{children:p.jsx("p",{children:e.getValue("name")})})},{accessorKey:"productDescription",header:()=>p.jsx("div",{className:"text-left",children:"Product Description"}),cell:({row:e})=>p.jsx("div",{children:e.getValue("productDescription")})},{accessorKey:"price",header:()=>p.jsx("div",{className:"text-right",children:"Price"}),cell:({row:e})=>{const t=parseFloat(e.getValue("price"));return p.jsx("div",{className:"text-right font-medium",children:Yr.format(t)})}},{accessorKey:"location",header:()=>p.jsx("div",{children:"Location"}),cell:({row:e})=>p.jsx("div",{className:"font-medium text-center",children:e.getValue("location")})},{accessorKey:"remark",header:()=>p.jsx("div",{className:"capitalize",children:"Remark"}),cell:({row:e})=>p.jsx("div",{className:"text-left",children:e.getValue("remark")})},{accessorKey:"quantity",header:()=>p.jsx("div",{className:"text-right",children:"Quantity"}),cell:({row:e})=>p.jsx("div",{className:"text-right",children:e.getValue("quantity")})},{accessorKey:"total",header:()=>p.jsx("div",{className:"text-right",children:"Total"}),cell:({row:e})=>{const t=parseFloat(e.getValue("total"));return p.jsx("div",{className:"text-right font-medium",children:Yr.format(t)})}},{accessorKey:"action1",header:()=>p.jsx("div",{}),cell:()=>null},{accessorKey:"action",header:()=>p.jsx("div",{}),cell:({row:e})=>{console.log("----");const t=e.original;return p.jsx(p.Fragment,{children:p.jsx(Qu,{product:t})})}}];function Xu(){var g;const{data:e,isLoading:t}=To({queryKey:[Nt.products],queryFn:hl}),[n,r]=F.useState([]),[s,i]=F.useState([]),[o,a]=F.useState({}),[l,u]=F.useState({}),c=yu({data:e||[],columns:vs,onSortingChange:r,onColumnFiltersChange:i,getCoreRowModel:au(),getPaginationRowModel:gu(),getSortedRowModel:hu(),getFilteredRowModel:fu(),onColumnVisibilityChange:a,onRowSelectionChange:u,state:{sorting:n,columnFilters:s,columnVisibility:o,rowSelection:l}});return p.jsx("div",{children:p.jsxs("div",{className:"w-full",children:[p.jsx("div",{className:"rounded-md border",children:t?p.jsx("p",{children:"Loading..."}):p.jsxs(ho,{children:[p.jsx(po,{className:"bg-white rounded-md",children:c.getHeaderGroups().map(m=>p.jsx(Bn,{children:m.headers.map(f=>p.jsx(mo,{children:f.isPlaceholder?null:ms(f.column.columnDef.header,f.getContext())},f.id))},m.id))}),p.jsx(vo,{children:(g=c.getRowModel().rows)!=null&&g.length?c.getRowModel().rows.map(m=>p.jsx(Bn,{"data-state":m.getIsSelected()&&"selected",children:m.getVisibleCells().map(f=>p.jsx(Jr,{children:ms(f.column.columnDef.cell,f.getContext())},f.id))},m.id)):p.jsx(Bn,{children:p.jsx(Jr,{colSpan:vs.length,className:"h-24 text-center",children:"No results."})})})]})}),p.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[p.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[c.getFilteredSelectedRowModel().rows.length," of"," ",c.getFilteredRowModel().rows.length," row(s) selected."]}),p.jsxs("div",{className:"space-x-2",children:[p.jsx(ct,{variant:"outline",size:"sm",onClick:()=>c.previousPage(),disabled:!c.getCanPreviousPage(),children:"Previous"}),p.jsx(ct,{variant:"outline",size:"sm",onClick:()=>c.nextPage(),disabled:!c.getCanNextPage(),children:"Next"})]})]})]})})}const hc=()=>p.jsxs(Wi,{children:[p.jsx(Ki,{children:"Products"}),p.jsxs(_o,{className:"grid grid-cols-[2fr_8fr] gap-6",children:[p.jsxs("div",{children:[p.jsx("div",{className:"mb-6",children:p.jsx(qi,{})}),p.jsx(Sl,{})]}),p.jsxs("div",{children:[p.jsx(wl,{}),p.jsx(Xu,{})]})]})]});export{hc as default};
